{
	"info": {
		"_postman_id": "bbf20d74-8920-42c1-b5a8-37818bb261c6",
		"name": "AS3 2020 Lab",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Getting Started",
			"item": [
				{
					"name": "BIG-IP: Authenticate",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.collectionVariables.set(\"_bigip_token\", jsonData.token.name);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"{{bigip_user}}\",\r\n  \"password\": \"{{bigip_passwd}}\",\r\n  \"loginProviderName\": \"tmos\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/authn/login",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"authn",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get status of AS3 package",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "623a800d-c68b-4fe1-b8e8-e4d43021e720",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}"
							}
						],
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						},
						"description": "See if the RPM install procedure finished successfully."
					},
					"response": []
				},
				{
					"name": "BIG-IP: Get list of deployed declarations",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Get list of deployed declarations with details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare?show=expanded",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							],
							"query": [
								{
									"key": "show",
									"value": "expanded"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Delete ALL declarations",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"AS3\",\n    \"action\": \"remove\",\n    \"persist\": true,\n    \"syncToGroup\": \"/Common/failoverGroup\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Basic TCP Load Balancing",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"AS3\",\n    \"action\": \"deploy\",\n    \"persist\": true,\n    \"declaration\": {\n        \"class\": \"ADC\",\n        \"schemaVersion\": \"3.0.0\",\n        \"id\": \"123456abcd\",\n        \"label\": \"Basic TCP\",\n        \"remark\": \"Basic TCP Example with monitor\",\n        \"TCP_LB_stack_1\": {\n            \"class\": \"Tenant\",\n            \"ssh_app\": {\n                \"class\": \"Application\",\n                \"template\": \"tcp\",\n                \"serviceMain\": {\n                    \"class\": \"Service_TCP\",\n                    \"virtualAddresses\": [\n                        \"10.1.10.50\"\n                    ],\n                    \"virtualPort\": 22,\n                    \"pool\": \"ssh_pool\"\n                },\n                \"ssh_pool\": {\n                    \"class\": \"Pool\",\n                    \"monitors\": [\n                        {\n                            \"use\": \"tcp_half_monitor_30sec\"\n                        }\n                    ],\n                    \"members\": [\n                        {\n                            \"servicePort\": 22,\n                            \"serverAddresses\": [\n                                \"10.1.10.100\",\n                                \"10.1.10.101\"\n                            ]\n                        }\n                    ]\n                },\n                \"tcp_half_monitor_30sec\": {\n                    \"class\": \"Monitor\",\n                    \"monitorType\": \"tcp-half-open\",\n                    \"interval\": 30,\n                    \"timeout\": 91,\n                    \"adaptive\": false\n                }\n            }\n        }\n    }\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Lab 1",
			"item": [
				{
					"name": "BIG-IP Authenticate",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.collectionVariables.set(\"_bigip_token\", jsonData.token.name);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"{{bigip_user}}\",\r\n  \"password\": \"{{bigip_passwd}}\",\r\n  \"loginProviderName\": \"tmos\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/authn/login",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"authn",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET AS3 Info",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				},
				{
					"name": "HTTP Application",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"class\": \"AS3\",\r\n\t\"action\": \"deploy\",\r\n\t\"persist\": true,\r\n\t\"syncToGroup\": \"/Common/failoverGroup\",\r\n\t\"declaration\": {\r\n\t\t\"class\": \"ADC\",\r\n\t\t\"id\": \"abcdefghi12345678\",\r\n\t\t\"schemaVersion\": \"3.10.0\",\r\n\t\t\"controls\": {\r\n    \t\t\"trace\": true\r\n    \t},\r\n\t\t\r\n\t\t\"http_tenant\": {\r\n\t\t\t\"class\": \"Tenant\",\r\n\t\t\t\r\n\t\t\t\"http_app\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\r\n\r\n\t\t\t\t\"http_vs\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.10\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.30\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "AS3 Schema Validation",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"$schema\": \"https://raw.githubusercontent.com/F5Networks/f5-appsvcs-extension/master/schema/3.16.0/as3-schema-3.16.0-6.json\",\r\n\t\r\n\t\"class\": \"AS3\",\r\n\t\"action\": \"deploy\",\r\n\t\"persist\": true,\r\n\t\"syncToGroup\": \"/Common/failoverGroup\",\r\n\t\"declaration\": {\r\n\t\t\"class\": \"ADC\",\r\n\t\t\"id\": \"abcdefghi12345678\",\r\n\t\t\"schemaVersion\": \"3.10.0\",\r\n\t\t\"controls\": {\r\n    \t\t\"trace\": true\r\n    \t},\r\n\t\t\r\n\t\t\"http_tenant\": {\r\n\t\t\t\"class\": \"Tenantt\",\r\n\t\t\t\r\n\t\t\t\"http_app\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\r\n\r\n\t\t\t\t\"http_vs\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.10\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.30\"\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Get List of Deployed Applications",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Get List of Deployed Applications With Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare?show=expanded",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							],
							"query": [
								{
									"key": "show",
									"value": "expanded"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Application",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": " {\r\n    \"class\": \"AS3\",\r\n    \"action\": \"deploy\",\r\n\t\"syncToGroup\": \"/Common/failoverGroup\",\r\n    \"declaration\": {\r\n        \"class\": \"ADC\",\r\n        \"schemaVersion\": \"3.10.0\",\r\n        \"http_tenant\": {\r\n            \"class\": \"Tenant\"        \r\n        }\r\n    }\r\n }",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Lab 2",
			"item": [
				{
					"name": "BIG-IP: Authenticate",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.collectionVariables.set(\"_bigip_token\", jsonData.token.name);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"{{bigip_user}}\",\r\n  \"password\": \"{{bigip_passwd}}\",\r\n  \"loginProviderName\": \"tmos\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/authn/login",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"authn",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Basic HTTPS Load Balancing",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "        {\r\n          \"class\": \"AS3\",\r\n          \"action\": \"deploy\",\r\n          \"persist\": true,\r\n          \"syncToGroup\": \"/Common/failoverGroup\",\r\n          \"declaration\": {\r\n            \"class\": \"ADC\",\r\n            \"schemaVersion\": \"3.0.0\",\r\n            \"id\": \"123abc\",\r\n            \"label\": \"Sample 2\",\r\n            \"remark\": \"HTTPS with predictive-node pool\",\r\n            \"Sample_02\": {\r\n              \"class\": \"Tenant\",\r\n              \"A1\": {\r\n                \"class\": \"Application\",\r\n                \"template\": \"https\",\r\n                \"serviceMain\": {\r\n                  \"class\": \"Service_HTTPS\",\r\n                  \"virtualAddresses\": [\r\n                    \"10.1.20.101\"\r\n                  ],\r\n                  \"pool\": \"web_pool\",\r\n                  \"serverTLS\": \"webtls\"\r\n                },\r\n                \"web_pool\": {\r\n                  \"class\": \"Pool\",\r\n                  \"loadBalancingMode\": \"round-robin\",\r\n                  \"monitors\": [\r\n                   \"http\"\r\n                  ],\r\n                  \"members\": [{\r\n                    \"servicePort\": 80,\r\n                    \"shareNodes\": true,\r\n                    \"serverAddresses\": [\r\n                      \"10.1.10.33\",\r\n                      \"10.1.10.34\"\r\n                    ]\r\n                  }]\r\n                },\r\n                \"webtls\": {\r\n                  \"class\": \"TLS_Server\",\r\n                  \"certificates\": [{\r\n                    \"certificate\": \"webcert\"\r\n                  }]\r\n                },\r\n                \"webcert\": {\r\n                  \"class\": \"Certificate\",\r\n                  \"remark\": \"in practice we recommend using a passphrase\",\r\n        \"certificate\": \"-----BEGIN CERTIFICATE-----\\nMIICnDCCAgWgAwIBAgIJAJ5n2b0OCEjwMA0GCSqGSIb3DQEBCwUAMGcxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRQwEgYDVQQKDAtmNV9OZXR3b3JrczEbMBkGA1UEAwwSc2FtcGxlLmV4YW1wbGUubmV0MB4XDTE3MTEyNjE5NTAyNFoXDTE4MDIyNTE5NTAyNFowZzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCldhc2hpbmd0b24xEDAOBgNVBAcMB1NlYXR0bGUxFDASBgNVBAoMC2Y1X05ldHdvcmtzMRswGQYDVQQDDBJzYW1wbGUuZXhhbXBsZS5uZXQwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALEsuXmSXVQpYjrZPW+WiTBjn491mwZYT7Q92V1HlSBtM6WdWlK1aZN5sovfKtOX7Yrm8xa+e4o/zJ2QYLyyv5O+t2EGN/4qUEjEAPY9mwJdfzRQy6Hyzm84J0QkTuUJ/EjNuPji3D0QJRALUTzu1UqqDCEtiN9OGyXEkh7uvb7BAgMBAAGjUDBOMB0GA1UdDgQWBBSVHPNrGWrjWyZvckQxFYWO59FRFjAfBgNVHSMEGDAWgBSVHPNrGWrjWyZvckQxFYWO59FRFjAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBCwUAA4GBAJeJ9SEckEwPhkXOm+IuqfbUS/RcziifBCTmVyE+Fa/j9pKSYTgiEBNdbJeBEa+gPMlQtbV7Y2dy8TKx/8axVBHiXC5geDML7caxOrAyHYBpnx690xJTh5OIORBBM/a/NvaR+P3CoVebr/NPRh9oRNxnntnqvqD7SW0U3ZPe3tJc\\n-----END CERTIFICATE-----\",\r\n        \"privateKey\": \"-----BEGIN RSA PRIVATE KEY-----\\nProc-Type: 4,ENCRYPTED\\nDEK-Info: AES-256-CBC,D8FFCE6B255601587CB54EC29B737D31\\n\\nkv4Fc3Jn0Ujkj0yRjt+gQQfBLSNF2aRLUENXnlr7Xpzqu0Ahr3jS1bAAnd8IWnsR\\nyILqVmKsYF2DoHh0tWiEAQ7/y/fe5DTFhK7N4Wml6kp2yVMkP6KC4ssyYPw27kjK\\nDBwBZ5O8Ioej08A5sgsLCmglbmtSPHJUn14pQnMTmLOpEtOsu6S+2ibPgSNpdg0b\\nCAJNG/KHe+Vkx59qNDyDeKb7FZOlsX30+y67zUq9GQqJEDuysPJ2BUNP0IJXAjst\\nFIt1qNoZew+5KDYs7u/lPxcMGTirUhgI84Jy4WcDvSOsP/tKlxj04TbIE3epmSKy\\n+TihHkwY7ngIGtcm3Sfqk5jz2RXoj1/Ac3SW8kVTYaOUogBhn7zAq4Wju6Et4hQG\\nRGapsJp1aCeZ/a4RCDTxspcKoMaRa97/URQb0hBRGx3DGUhzpmX9zl7JI2Xa5D3R\\nmdBXtjLKYJTdIMdd27prBEKhMUpae2rz5Mw4J907wZeBq/wu+zp8LAnecfTe2nGY\\nE32x1U7gSEdYOGqnwxsOexb1jKgCa67Nw9TmcMPV8zmH7R9qdvgxAbAtwBl1F9OS\\nfcGaC7epf1AjJLtaX7krWmzgASHl28Ynh9lmGMdv+5QYMZvKG0LOg/n3m8uJ6sKy\\nIzzvaJswwn0j5P5+czyoV5CvvdCfKnNb+3jUEN8I0PPwjBGKr4B1ojwhogTM248V\\nHR69D6TxFVMfGpyJhCPkbGEGbpEpcffpgKuC/mEtMqyDQXJNaV5HO6HgAJ9F1P6v\\n5ehHHTMRvzCCFiwndHdlMXUjqSNjww6me6dr6LiAPbejdzhL2vWx1YqebOcwQx3G\\n-----END RSA PRIVATE KEY-----\",\r\n                  \"passphrase\": {\r\n                    \"ciphertext\": \"ZjVmNQ==\",\r\n                    \"protected\": \"eyJhbGciOiJkaXIiLCJlbmMiOiJub25lIn0\"\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: HTTPS with Serverssl profile",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"class\": \"AS3\",\r\n\"action\": \"deploy\",\r\n\"persist\": true,\r\n\"syncToGroup\": \"/Common/failoverGroup\",\r\n\"declaration\": {\r\n    \"class\": \"ADC\",\r\n    \"schemaVersion\": \"3.0.0\",\r\n    \"id\": \"123abc\",\r\n    \"label\": \"Sample 3\",\r\n    \"remark\": \"HTTPS with sslbridging\",\r\n    \"Sample_03\": {\r\n    \"class\": \"Tenant\",\r\n    \"A1\": {\r\n        \"class\": \"Application\",\r\n        \"template\": \"https\",\r\n        \"serviceMain\": {\r\n        \"class\": \"Service_HTTPS\",\r\n        \"virtualAddresses\": [\r\n            \"10.1.20.102\"\r\n        ],\r\n        \"pool\": \"web_pool\",\r\n        \"clientTLS\": {\r\n            \"bigip\": \"/Common/serverssl\"\r\n        },\r\n        \"serverTLS\": \"webtls\"\r\n        },\r\n        \"web_pool\": {\r\n        \"class\": \"Pool\",\r\n        \"loadBalancingMode\": \"predictive-node\",\r\n        \"monitors\": [\r\n        \"https\"\r\n        ],\r\n        \"members\": [{\r\n            \"servicePort\": 443,\r\n            \"shareNodes\": true,\r\n            \"serverAddresses\": [\r\n            \"10.1.10.33\",\r\n            \"10.1.10.34\"\r\n            ]\r\n        }]\r\n        },\r\n        \"webtls\": {\r\n        \"class\": \"TLS_Server\",\r\n        \"certificates\": [{\r\n            \"certificate\": \"webcert\"\r\n        }]\r\n        },\r\n        \"webcert\": {\r\n        \"class\": \"Certificate\",\r\n        \"remark\": \"in practice we recommend using a passphrase\",\r\n        \"certificate\": \"-----BEGIN CERTIFICATE-----\\nMIICnDCCAgWgAwIBAgIJAJ5n2b0OCEjwMA0GCSqGSIb3DQEBCwUAMGcxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRQwEgYDVQQKDAtmNV9OZXR3b3JrczEbMBkGA1UEAwwSc2FtcGxlLmV4YW1wbGUubmV0MB4XDTE3MTEyNjE5NTAyNFoXDTE4MDIyNTE5NTAyNFowZzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCldhc2hpbmd0b24xEDAOBgNVBAcMB1NlYXR0bGUxFDASBgNVBAoMC2Y1X05ldHdvcmtzMRswGQYDVQQDDBJzYW1wbGUuZXhhbXBsZS5uZXQwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALEsuXmSXVQpYjrZPW+WiTBjn491mwZYT7Q92V1HlSBtM6WdWlK1aZN5sovfKtOX7Yrm8xa+e4o/zJ2QYLyyv5O+t2EGN/4qUEjEAPY9mwJdfzRQy6Hyzm84J0QkTuUJ/EjNuPji3D0QJRALUTzu1UqqDCEtiN9OGyXEkh7uvb7BAgMBAAGjUDBOMB0GA1UdDgQWBBSVHPNrGWrjWyZvckQxFYWO59FRFjAfBgNVHSMEGDAWgBSVHPNrGWrjWyZvckQxFYWO59FRFjAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBCwUAA4GBAJeJ9SEckEwPhkXOm+IuqfbUS/RcziifBCTmVyE+Fa/j9pKSYTgiEBNdbJeBEa+gPMlQtbV7Y2dy8TKx/8axVBHiXC5geDML7caxOrAyHYBpnx690xJTh5OIORBBM/a/NvaR+P3CoVebr/NPRh9oRNxnntnqvqD7SW0U3ZPe3tJc\\n-----END CERTIFICATE-----\",\r\n        \"privateKey\": \"-----BEGIN RSA PRIVATE KEY-----\\nProc-Type: 4,ENCRYPTED\\nDEK-Info: AES-256-CBC,D8FFCE6B255601587CB54EC29B737D31\\n\\nkv4Fc3Jn0Ujkj0yRjt+gQQfBLSNF2aRLUENXnlr7Xpzqu0Ahr3jS1bAAnd8IWnsR\\nyILqVmKsYF2DoHh0tWiEAQ7/y/fe5DTFhK7N4Wml6kp2yVMkP6KC4ssyYPw27kjK\\nDBwBZ5O8Ioej08A5sgsLCmglbmtSPHJUn14pQnMTmLOpEtOsu6S+2ibPgSNpdg0b\\nCAJNG/KHe+Vkx59qNDyDeKb7FZOlsX30+y67zUq9GQqJEDuysPJ2BUNP0IJXAjst\\nFIt1qNoZew+5KDYs7u/lPxcMGTirUhgI84Jy4WcDvSOsP/tKlxj04TbIE3epmSKy\\n+TihHkwY7ngIGtcm3Sfqk5jz2RXoj1/Ac3SW8kVTYaOUogBhn7zAq4Wju6Et4hQG\\nRGapsJp1aCeZ/a4RCDTxspcKoMaRa97/URQb0hBRGx3DGUhzpmX9zl7JI2Xa5D3R\\nmdBXtjLKYJTdIMdd27prBEKhMUpae2rz5Mw4J907wZeBq/wu+zp8LAnecfTe2nGY\\nE32x1U7gSEdYOGqnwxsOexb1jKgCa67Nw9TmcMPV8zmH7R9qdvgxAbAtwBl1F9OS\\nfcGaC7epf1AjJLtaX7krWmzgASHl28Ynh9lmGMdv+5QYMZvKG0LOg/n3m8uJ6sKy\\nIzzvaJswwn0j5P5+czyoV5CvvdCfKnNb+3jUEN8I0PPwjBGKr4B1ojwhogTM248V\\nHR69D6TxFVMfGpyJhCPkbGEGbpEpcffpgKuC/mEtMqyDQXJNaV5HO6HgAJ9F1P6v\\n5ehHHTMRvzCCFiwndHdlMXUjqSNjww6me6dr6LiAPbejdzhL2vWx1YqebOcwQx3G\\n-----END RSA PRIVATE KEY-----\",\r\n        \"passphrase\": {\r\n            \"ciphertext\": \"ZjVmNQ==\",\r\n            \"protected\": \"eyJhbGciOiJkaXIiLCJlbmMiOiJub25lIn0\"\r\n        }\r\n        }\r\n    }\r\n    }\r\n}\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Delete ALL declarations",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"AS3\",\n    \"action\": \"remove\",\n    \"persist\": true,\n    \"syncToGroup\": \"/Common/failoverGroup\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Lab 3",
			"item": [
				{
					"name": "BIG-IP: Authenticate",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.collectionVariables.set(\"_bigip_token\", jsonData.token.name);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"{{bigip_user}}\",\r\n  \"password\": \"{{bigip_passwd}}\",\r\n  \"loginProviderName\": \"tmos\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/authn/login",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"authn",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: HTTPS with local WAF policy",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n        \"class\": \"AS3\",\r\n        \"action\": \"deploy\",\r\n        \"persist\": true,\r\n        \"syncToGroup\": \"/Common/failoverGroup\",\r\n        \"declaration\": {\r\n            \"class\": \"ADC\",\r\n            \"schemaVersion\": \"3.0.0\",\r\n            \"id\": \"123abc\",\r\n            \"label\": \"Sample 4\",\r\n            \"remark\": \"HTTPS with sslbridging and WAF\",\r\n            \"Sample_04\": {\r\n            \"class\": \"Tenant\",\r\n            \"A1\": {\r\n                \"class\": \"Application\",\r\n                \"template\": \"https\",\r\n                \"serviceMain\": {\r\n                \"class\": \"Service_HTTPS\",\r\n                \"virtualAddresses\": [\r\n                    \"10.1.20.103\"\r\n                ],\r\n                \"pool\": \"web_pool\",\r\n                \"policyWAF\": {\r\n                   \"bigip\": \"/Common/test-policy\"\r\n                },\r\n                \"clientTLS\": {\r\n                    \"bigip\": \"/Common/serverssl\"\r\n                },\r\n                \"serverTLS\": \"webtls\"\r\n                },\r\n                \"web_pool\": {\r\n                \"class\": \"Pool\",\r\n                \"loadBalancingMode\": \"predictive-node\",\r\n                \"monitors\": [\r\n                \"https\"\r\n                ],\r\n                \"members\": [{\r\n                    \"servicePort\": 443,\r\n                    \"shareNodes\": true,\r\n                    \"serverAddresses\": [\r\n                    \"10.1.10.31\"\r\n                    ]\r\n                }]\r\n                },\r\n                \"webtls\": {\r\n                \"class\": \"TLS_Server\",\r\n                \"certificates\": [{\r\n                    \"certificate\": \"webcert\"\r\n                }]\r\n                },\r\n                \"webcert\": {\r\n                \"class\": \"Certificate\",\r\n                \"remark\": \"in practice we recommend using a passphrase\",\r\n                \"certificate\": \"-----BEGIN CERTIFICATE-----\\nMIICnDCCAgWgAwIBAgIJAJ5n2b0OCEjwMA0GCSqGSIb3DQEBCwUAMGcxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRQwEgYDVQQKDAtmNV9OZXR3b3JrczEbMBkGA1UEAwwSc2FtcGxlLmV4YW1wbGUubmV0MB4XDTE3MTEyNjE5NTAyNFoXDTE4MDIyNTE5NTAyNFowZzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCldhc2hpbmd0b24xEDAOBgNVBAcMB1NlYXR0bGUxFDASBgNVBAoMC2Y1X05ldHdvcmtzMRswGQYDVQQDDBJzYW1wbGUuZXhhbXBsZS5uZXQwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALEsuXmSXVQpYjrZPW+WiTBjn491mwZYT7Q92V1HlSBtM6WdWlK1aZN5sovfKtOX7Yrm8xa+e4o/zJ2QYLyyv5O+t2EGN/4qUEjEAPY9mwJdfzRQy6Hyzm84J0QkTuUJ/EjNuPji3D0QJRALUTzu1UqqDCEtiN9OGyXEkh7uvb7BAgMBAAGjUDBOMB0GA1UdDgQWBBSVHPNrGWrjWyZvckQxFYWO59FRFjAfBgNVHSMEGDAWgBSVHPNrGWrjWyZvckQxFYWO59FRFjAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBCwUAA4GBAJeJ9SEckEwPhkXOm+IuqfbUS/RcziifBCTmVyE+Fa/j9pKSYTgiEBNdbJeBEa+gPMlQtbV7Y2dy8TKx/8axVBHiXC5geDML7caxOrAyHYBpnx690xJTh5OIORBBM/a/NvaR+P3CoVebr/NPRh9oRNxnntnqvqD7SW0U3ZPe3tJc\\n-----END CERTIFICATE-----\",\r\n                \"privateKey\": \"-----BEGIN RSA PRIVATE KEY-----\\nProc-Type: 4,ENCRYPTED\\nDEK-Info: AES-256-CBC,D8FFCE6B255601587CB54EC29B737D31\\n\\nkv4Fc3Jn0Ujkj0yRjt+gQQfBLSNF2aRLUENXnlr7Xpzqu0Ahr3jS1bAAnd8IWnsR\\nyILqVmKsYF2DoHh0tWiEAQ7/y/fe5DTFhK7N4Wml6kp2yVMkP6KC4ssyYPw27kjK\\nDBwBZ5O8Ioej08A5sgsLCmglbmtSPHJUn14pQnMTmLOpEtOsu6S+2ibPgSNpdg0b\\nCAJNG/KHe+Vkx59qNDyDeKb7FZOlsX30+y67zUq9GQqJEDuysPJ2BUNP0IJXAjst\\nFIt1qNoZew+5KDYs7u/lPxcMGTirUhgI84Jy4WcDvSOsP/tKlxj04TbIE3epmSKy\\n+TihHkwY7ngIGtcm3Sfqk5jz2RXoj1/Ac3SW8kVTYaOUogBhn7zAq4Wju6Et4hQG\\nRGapsJp1aCeZ/a4RCDTxspcKoMaRa97/URQb0hBRGx3DGUhzpmX9zl7JI2Xa5D3R\\nmdBXtjLKYJTdIMdd27prBEKhMUpae2rz5Mw4J907wZeBq/wu+zp8LAnecfTe2nGY\\nE32x1U7gSEdYOGqnwxsOexb1jKgCa67Nw9TmcMPV8zmH7R9qdvgxAbAtwBl1F9OS\\nfcGaC7epf1AjJLtaX7krWmzgASHl28Ynh9lmGMdv+5QYMZvKG0LOg/n3m8uJ6sKy\\nIzzvaJswwn0j5P5+czyoV5CvvdCfKnNb+3jUEN8I0PPwjBGKr4B1ojwhogTM248V\\nHR69D6TxFVMfGpyJhCPkbGEGbpEpcffpgKuC/mEtMqyDQXJNaV5HO6HgAJ9F1P6v\\n5ehHHTMRvzCCFiwndHdlMXUjqSNjww6me6dr6LiAPbejdzhL2vWx1YqebOcwQx3G\\n-----END RSA PRIVATE KEY-----\",\r\n                \"passphrase\": {\r\n                    \"ciphertext\": \"ZjVmNQ==\",\r\n                    \"protected\": \"eyJhbGciOiJkaXIiLCJlbmMiOiJub25lIn0\"\r\n                }\r\n                }\r\n            }\r\n            }\r\n        }\r\n        }",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: HTTPS with external WAF policy",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "        {\r\n        \"class\": \"AS3\",\r\n        \"action\": \"deploy\",\r\n        \"persist\": true,\r\n        \"syncToGroup\": \"/Common/failoverGroup\",\r\n        \"declaration\": {\r\n            \"class\": \"ADC\",\r\n            \"schemaVersion\": \"3.0.0\",\r\n            \"id\": \"123abc\",\r\n            \"label\": \"Sample 4\",\r\n            \"remark\": \"HTTPS with sslbridging and external WAF\",\r\n            \"Sample_04\": {\r\n            \"class\": \"Tenant\",\r\n            \"A1\": {\r\n                \"class\": \"Application\",\r\n                \"template\": \"https\",\r\n                \"serviceMain\": {\r\n                \"class\": \"Service_HTTPS\",\r\n                \"virtualAddresses\": [\r\n                    \"10.1.20.103\"\r\n                ],\r\n                \"pool\": \"web_pool\",\r\n                \"policyWAF\": {\r\n                    \"use\": \"My_AWAF_Policy\"\r\n                },\r\n                \"clientTLS\": {\r\n                    \"bigip\": \"/Common/serverssl\"\r\n                },\r\n                \"serverTLS\": \"webtls\"\r\n                },\r\n                \"web_pool\": {\r\n                \"class\": \"Pool\",\r\n                \"loadBalancingMode\": \"predictive-node\",\r\n                \"monitors\": [\r\n                \"https\"\r\n                ],\r\n                \"members\": [{\r\n                    \"servicePort\": 443,\r\n                    \"shareNodes\": true,\r\n                    \"serverAddresses\": [\r\n                    \"10.1.10.31\"\r\n                    ]\r\n                }]\r\n                },\r\n                \"webtls\": {\r\n                \"class\": \"TLS_Server\",\r\n                \"certificates\": [{\r\n                    \"certificate\": \"webcert\"\r\n                }]\r\n                },\r\n                \"webcert\": {\r\n                \"class\": \"Certificate\",\r\n                \"remark\": \"in practice we recommend using a passphrase\",\r\n                \"certificate\": \"-----BEGIN CERTIFICATE-----\\nMIICnDCCAgWgAwIBAgIJAJ5n2b0OCEjwMA0GCSqGSIb3DQEBCwUAMGcxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRQwEgYDVQQKDAtmNV9OZXR3b3JrczEbMBkGA1UEAwwSc2FtcGxlLmV4YW1wbGUubmV0MB4XDTE3MTEyNjE5NTAyNFoXDTE4MDIyNTE5NTAyNFowZzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCldhc2hpbmd0b24xEDAOBgNVBAcMB1NlYXR0bGUxFDASBgNVBAoMC2Y1X05ldHdvcmtzMRswGQYDVQQDDBJzYW1wbGUuZXhhbXBsZS5uZXQwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALEsuXmSXVQpYjrZPW+WiTBjn491mwZYT7Q92V1HlSBtM6WdWlK1aZN5sovfKtOX7Yrm8xa+e4o/zJ2QYLyyv5O+t2EGN/4qUEjEAPY9mwJdfzRQy6Hyzm84J0QkTuUJ/EjNuPji3D0QJRALUTzu1UqqDCEtiN9OGyXEkh7uvb7BAgMBAAGjUDBOMB0GA1UdDgQWBBSVHPNrGWrjWyZvckQxFYWO59FRFjAfBgNVHSMEGDAWgBSVHPNrGWrjWyZvckQxFYWO59FRFjAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBCwUAA4GBAJeJ9SEckEwPhkXOm+IuqfbUS/RcziifBCTmVyE+Fa/j9pKSYTgiEBNdbJeBEa+gPMlQtbV7Y2dy8TKx/8axVBHiXC5geDML7caxOrAyHYBpnx690xJTh5OIORBBM/a/NvaR+P3CoVebr/NPRh9oRNxnntnqvqD7SW0U3ZPe3tJc\\n-----END CERTIFICATE-----\",\r\n                \"privateKey\": \"-----BEGIN RSA PRIVATE KEY-----\\nProc-Type: 4,ENCRYPTED\\nDEK-Info: AES-256-CBC,D8FFCE6B255601587CB54EC29B737D31\\n\\nkv4Fc3Jn0Ujkj0yRjt+gQQfBLSNF2aRLUENXnlr7Xpzqu0Ahr3jS1bAAnd8IWnsR\\nyILqVmKsYF2DoHh0tWiEAQ7/y/fe5DTFhK7N4Wml6kp2yVMkP6KC4ssyYPw27kjK\\nDBwBZ5O8Ioej08A5sgsLCmglbmtSPHJUn14pQnMTmLOpEtOsu6S+2ibPgSNpdg0b\\nCAJNG/KHe+Vkx59qNDyDeKb7FZOlsX30+y67zUq9GQqJEDuysPJ2BUNP0IJXAjst\\nFIt1qNoZew+5KDYs7u/lPxcMGTirUhgI84Jy4WcDvSOsP/tKlxj04TbIE3epmSKy\\n+TihHkwY7ngIGtcm3Sfqk5jz2RXoj1/Ac3SW8kVTYaOUogBhn7zAq4Wju6Et4hQG\\nRGapsJp1aCeZ/a4RCDTxspcKoMaRa97/URQb0hBRGx3DGUhzpmX9zl7JI2Xa5D3R\\nmdBXtjLKYJTdIMdd27prBEKhMUpae2rz5Mw4J907wZeBq/wu+zp8LAnecfTe2nGY\\nE32x1U7gSEdYOGqnwxsOexb1jKgCa67Nw9TmcMPV8zmH7R9qdvgxAbAtwBl1F9OS\\nfcGaC7epf1AjJLtaX7krWmzgASHl28Ynh9lmGMdv+5QYMZvKG0LOg/n3m8uJ6sKy\\nIzzvaJswwn0j5P5+czyoV5CvvdCfKnNb+3jUEN8I0PPwjBGKr4B1ojwhogTM248V\\nHR69D6TxFVMfGpyJhCPkbGEGbpEpcffpgKuC/mEtMqyDQXJNaV5HO6HgAJ9F1P6v\\n5ehHHTMRvzCCFiwndHdlMXUjqSNjww6me6dr6LiAPbejdzhL2vWx1YqebOcwQx3G\\n-----END RSA PRIVATE KEY-----\",\r\n                \"passphrase\": {\r\n                    \"ciphertext\": \"ZjVmNQ==\",\r\n                    \"protected\": \"eyJhbGciOiJkaXIiLCJlbmMiOiJub25lIn0\"\r\n                }\r\n                },\r\n                \"My_AWAF_Policy\": {\r\n                    \"class\": \"WAF_Policy\",\r\n                    \"url\": \"https://raw.githubusercontent.com/Larsende/Agility2020-AS3/master/_static/Common_test_policy__2020-1-13_9-38-13__bigip02.as3lab.com.xml\",\r\n                    \"ignoreChanges\": false\r\n                }\r\n            }\r\n            }\r\n        }\r\n        }",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: HTTPS with external WAF policy in blocking mode",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n        \"schema\": \"https://raw.githubusercontent.com/F5Networks/f5-appsvcs-extension/master/schema/latest/as3-schema.json\",\r\n        \"class\": \"AS3\",\r\n        \"action\": \"deploy\",\r\n        \"persist\": true,\r\n        \"syncToGroup\": \"/Common/failoverGroup\",\r\n        \"declaration\": {\r\n            \"class\": \"ADC\",\r\n            \"schemaVersion\": \"3.0.0\",\r\n            \"id\": \"123abc\",\r\n            \"label\": \"Sample 4\",\r\n            \"remark\": \"HTTPS with sslbridging and external WAF\",\r\n            \"Sample_04\": {\r\n            \"class\": \"Tenant\",\r\n            \"A1\": {\r\n                \"class\": \"Application\",\r\n                \"template\": \"https\",\r\n                \"serviceMain\": {\r\n                \"class\": \"Service_HTTPS\",\r\n                \"virtualAddresses\": [\r\n                    \"10.1.20.103\"\r\n                ],\r\n                \"pool\": \"web_pool\",\r\n                \"policyWAF\": {\r\n                    \"use\": \"My_AWAF_Policy\"\r\n                },\r\n                \"clientTLS\": {\r\n                    \"bigip\": \"/Common/serverssl\"\r\n                },\r\n                \"serverTLS\": \"webtls\"\r\n                },\r\n                \"web_pool\": {\r\n                \"class\": \"Pool\",\r\n                \"loadBalancingMode\": \"predictive-node\",\r\n                \"monitors\": [\r\n                \"https\"\r\n                ],\r\n                \"members\": [{\r\n                    \"servicePort\": 443,\r\n                    \"shareNodes\": true,\r\n                    \"serverAddresses\": [\r\n                    \"10.1.10.31\"\r\n                    ]\r\n                }]\r\n                },\r\n                \"webtls\": {\r\n                \"class\": \"TLS_Server\",\r\n                \"certificates\": [{\r\n                    \"certificate\": \"webcert\"\r\n                }]\r\n                },\r\n                \"webcert\": {\r\n                \"class\": \"Certificate\",\r\n                \"remark\": \"in practice we recommend using a passphrase\",\r\n                \"certificate\": \"-----BEGIN CERTIFICATE-----\\nMIICnDCCAgWgAwIBAgIJAJ5n2b0OCEjwMA0GCSqGSIb3DQEBCwUAMGcxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRQwEgYDVQQKDAtmNV9OZXR3b3JrczEbMBkGA1UEAwwSc2FtcGxlLmV4YW1wbGUubmV0MB4XDTE3MTEyNjE5NTAyNFoXDTE4MDIyNTE5NTAyNFowZzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCldhc2hpbmd0b24xEDAOBgNVBAcMB1NlYXR0bGUxFDASBgNVBAoMC2Y1X05ldHdvcmtzMRswGQYDVQQDDBJzYW1wbGUuZXhhbXBsZS5uZXQwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALEsuXmSXVQpYjrZPW+WiTBjn491mwZYT7Q92V1HlSBtM6WdWlK1aZN5sovfKtOX7Yrm8xa+e4o/zJ2QYLyyv5O+t2EGN/4qUEjEAPY9mwJdfzRQy6Hyzm84J0QkTuUJ/EjNuPji3D0QJRALUTzu1UqqDCEtiN9OGyXEkh7uvb7BAgMBAAGjUDBOMB0GA1UdDgQWBBSVHPNrGWrjWyZvckQxFYWO59FRFjAfBgNVHSMEGDAWgBSVHPNrGWrjWyZvckQxFYWO59FRFjAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBCwUAA4GBAJeJ9SEckEwPhkXOm+IuqfbUS/RcziifBCTmVyE+Fa/j9pKSYTgiEBNdbJeBEa+gPMlQtbV7Y2dy8TKx/8axVBHiXC5geDML7caxOrAyHYBpnx690xJTh5OIORBBM/a/NvaR+P3CoVebr/NPRh9oRNxnntnqvqD7SW0U3ZPe3tJc\\n-----END CERTIFICATE-----\",\r\n                \"privateKey\": \"-----BEGIN RSA PRIVATE KEY-----\\nProc-Type: 4,ENCRYPTED\\nDEK-Info: AES-256-CBC,D8FFCE6B255601587CB54EC29B737D31\\n\\nkv4Fc3Jn0Ujkj0yRjt+gQQfBLSNF2aRLUENXnlr7Xpzqu0Ahr3jS1bAAnd8IWnsR\\nyILqVmKsYF2DoHh0tWiEAQ7/y/fe5DTFhK7N4Wml6kp2yVMkP6KC4ssyYPw27kjK\\nDBwBZ5O8Ioej08A5sgsLCmglbmtSPHJUn14pQnMTmLOpEtOsu6S+2ibPgSNpdg0b\\nCAJNG/KHe+Vkx59qNDyDeKb7FZOlsX30+y67zUq9GQqJEDuysPJ2BUNP0IJXAjst\\nFIt1qNoZew+5KDYs7u/lPxcMGTirUhgI84Jy4WcDvSOsP/tKlxj04TbIE3epmSKy\\n+TihHkwY7ngIGtcm3Sfqk5jz2RXoj1/Ac3SW8kVTYaOUogBhn7zAq4Wju6Et4hQG\\nRGapsJp1aCeZ/a4RCDTxspcKoMaRa97/URQb0hBRGx3DGUhzpmX9zl7JI2Xa5D3R\\nmdBXtjLKYJTdIMdd27prBEKhMUpae2rz5Mw4J907wZeBq/wu+zp8LAnecfTe2nGY\\nE32x1U7gSEdYOGqnwxsOexb1jKgCa67Nw9TmcMPV8zmH7R9qdvgxAbAtwBl1F9OS\\nfcGaC7epf1AjJLtaX7krWmzgASHl28Ynh9lmGMdv+5QYMZvKG0LOg/n3m8uJ6sKy\\nIzzvaJswwn0j5P5+czyoV5CvvdCfKnNb+3jUEN8I0PPwjBGKr4B1ojwhogTM248V\\nHR69D6TxFVMfGpyJhCPkbGEGbpEpcffpgKuC/mEtMqyDQXJNaV5HO6HgAJ9F1P6v\\n5ehHHTMRvzCCFiwndHdlMXUjqSNjww6me6dr6LiAPbejdzhL2vWx1YqebOcwQx3G\\n-----END RSA PRIVATE KEY-----\",\r\n                \"passphrase\": {\r\n                    \"ciphertext\": \"ZjVmNQ==\",\r\n                    \"protected\": \"eyJhbGciOiJkaXIiLCJlbmMiOiJub25lIn0\"\r\n                }\r\n                },\r\n                \"My_AWAF_Policy\": {\r\n                    \"class\": \"WAF_Policy\",\r\n                    \"url\": \"https://raw.githubusercontent.com/Larsende/Agility2020-AS3/master/_static/Common_test_policy__2020-1-13_9-38-13__bigip02.as3lab.com.xml\",\r\n                    \"ignoreChanges\": false,\r\n                    \"enforcementMode\": \"blocking\",\r\n                    \"serverTechnologies\": [\r\n                    \t\"PHP\",\r\n                    \t\"MySQL\"\r\n                    ]\r\n                }\r\n            }\r\n            }\r\n        }\r\n        }",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Lab 4",
			"item": [
				{
					"name": "BIG-IP Authenticate",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.globals.set(\"_bigip_token\", jsonData.token.name);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"{{bigip_user}}\",\r\n  \"password\": \"{{bigip_passwd}}\",\r\n  \"loginProviderName\": \"tmos\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/authn/login",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"authn",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "HTTP Multi-Application (2 Apps)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"class\": \"AS3\",\r\n\t\"action\": \"deploy\",\r\n\t\"persist\": true,\r\n\t\"syncToGroup\": \"/Common/failoverGroup\",\r\n\t\"declaration\": {\r\n\t\t\"class\": \"ADC\",\r\n\t\t\"id\": \"abcdefghi12345678\",\r\n\t\t\"schemaVersion\": \"3.10.0\",\r\n\t\t\"controls\": {\r\n    \t\t\"trace\": true\r\n    \t},\r\n\t\t\r\n\t\t\"http_tenant\": {\r\n\t\t\t\"class\": \"Tenant\",\r\n\t\t\t\"http_app\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\t\t\t\t\"http_vs\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.10\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.30\",\r\n\t\t\t\t\t\t\t\t\"10.1.10.31\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"http_app_2\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\t\t\t\t\"http_vs_2\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.15\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool_2\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool_2\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.32\",\r\n\t\t\t\t\t\t\t\t\"10.1.10.33\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "HTTP Multi-Application (3 Apps)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"class\": \"AS3\",\r\n\t\"action\": \"deploy\",\r\n\t\"persist\": true,\r\n\t\"syncToGroup\": \"/Common/failoverGroup\",\r\n\t\"declaration\": {\r\n\t\t\"class\": \"ADC\",\r\n\t\t\"id\": \"abcdefghi12345678\",\r\n\t\t\"schemaVersion\": \"3.10.0\",\r\n\t\t\"controls\": {\r\n    \t\t\"trace\": true\r\n    \t},\r\n\t\t\r\n\t\t\"http_tenant\": {\r\n\t\t\t\"class\": \"Tenant\",\r\n\t\t\t\"http_app\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\t\t\t\t\"http_vs\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.10\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.30\",\r\n\t\t\t\t\t\t\t\t\"10.1.10.31\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"http_app_2\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\t\t\t\t\"http_vs_2\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.15\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool_2\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool_2\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.32\",\r\n\t\t\t\t\t\t\t\t\"10.1.10.33\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\t\"http_app_3\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\t\t\t\t\"http_vs_3\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.100\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool_3\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool_3\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.34\",\r\n\t\t\t\t\t\t\t\t\"10.1.10.35\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Get List of Deployed Applications With Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare?show=expanded",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							],
							"query": [
								{
									"key": "show",
									"value": "expanded"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Application",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": " {\r\n    \"class\": \"AS3\",\r\n    \"action\": \"deploy\",\r\n\t\"syncToGroup\": \"/Common/failoverGroup\",\r\n    \"declaration\": {\r\n        \"class\": \"ADC\",\r\n        \"schemaVersion\": \"3.10.0\",\r\n        \"http_tenant\": {\r\n            \"class\": \"Tenant\"        \r\n        }\r\n    }\r\n }",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Lab 5",
			"item": [
				{
					"name": "BIG-IP: Authenticate",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.collectionVariables.set(\"_bigip_token\", jsonData.token.name);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"{{bigip_user}}\",\r\n  \"password\": \"{{bigip_passwd}}\",\r\n  \"loginProviderName\": \"tmos\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/authn/login",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"authn",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Tenant 1: HTTP Multi-Applications (2 Apps)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"class\": \"AS3\",\r\n\t\"action\": \"deploy\",\r\n\t\"persist\": true,\r\n\t\"syncToGroup\": \"/Common/failoverGroup\",\r\n\t\"declaration\": {\r\n\t\t\"class\": \"ADC\",\r\n\t\t\"id\": \"abcdefghi1278\",\r\n\t\t\"schemaVersion\": \"3.10.0\",\r\n\t\t\"controls\": {\r\n    \t\t\"trace\": true\r\n    \t},\r\n\t\t\r\n\t\t\"http_tenant\": {\r\n\t\t\t\"class\": \"Tenant\",\r\n\t\t\t\"http_app\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\t\t\t\t\"http_vs\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.10\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.30\",\r\n\t\t\t\t\t\t\t\t\"10.1.10.31\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"http_app_2\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\t\t\t\t\"http_vs_2\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.15\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool_2\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool_2\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.32\",\r\n\t\t\t\t\t\t\t\t\"10.1.10.33\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Get list of first tenant's deployed declarations",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare/http_tenant",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare",
								"http_tenant"
							]
						}
					},
					"response": []
				},
				{
					"name": "Tenant 2: HTTP Application",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"class\": \"AS3\",\r\n\t\"action\": \"deploy\",\r\n\t\"persist\": true,\r\n\t\"syncToGroup\": \"/Common/failoverGroup\",\r\n\t\"declaration\": {\r\n\t\t\"class\": \"ADC\",\r\n\t\t\"id\": \"abcdefghi1278\",\r\n\t\t\"schemaVersion\": \"3.10.0\",\r\n\t\t\"controls\": {\r\n    \t\t\"trace\": true\r\n    \t},\r\n\t\t\r\n\t\t\"http_tenant_2\": {\r\n\t\t\t\"class\": \"Tenant\",\r\n\t\t\t\"http_app\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\t\t\t\t\"http_vs\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.11\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"shareNodes\": true,\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.30\",\r\n\t\t\t\t\t\t\t\t\"10.1.10.31\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Delete first tenant's declarations",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"AS3\",\n    \"action\": \"deploy\",\n    \"persist\": true,\n    \"syncToGroup\": \"/Common/failoverGroup\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare/http_tenant",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare",
								"http_tenant"
							]
						}
					},
					"response": []
				},
				{
					"name": "Tenant 1: HTTP Multi-Applications (2 Apps) - ShareNodes",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"class\": \"AS3\",\r\n\t\"action\": \"deploy\",\r\n\t\"persist\": true,\r\n\t\"syncToGroup\": \"/Common/failoverGroup\",\r\n\t\"declaration\": {\r\n\t\t\"class\": \"ADC\",\r\n\t\t\"id\": \"abcdefghi1278\",\r\n\t\t\"schemaVersion\": \"3.10.0\",\r\n\t\t\"controls\": {\r\n    \t\t\"trace\": true\r\n    \t},\r\n\t\t\r\n\t\t\"http_tenant\": {\r\n\t\t\t\"class\": \"Tenant\",\r\n\t\t\t\"http_app\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\t\t\t\t\"http_vs\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.10\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"shareNodes\": true,\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.30\",\r\n\t\t\t\t\t\t\t\t\"10.1.10.31\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"http_app_2\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\t\t\t\t\"http_vs_2\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.15\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool_2\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool_2\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.32\",\r\n\t\t\t\t\t\t\t\t\"10.1.10.33\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "Tenant 2: HTTP Application",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"class\": \"AS3\",\r\n\t\"action\": \"deploy\",\r\n\t\"persist\": true,\r\n\t\"syncToGroup\": \"/Common/failoverGroup\",\r\n\t\"declaration\": {\r\n\t\t\"class\": \"ADC\",\r\n\t\t\"id\": \"abcdefghi1278\",\r\n\t\t\"schemaVersion\": \"3.10.0\",\r\n\t\t\"controls\": {\r\n    \t\t\"trace\": true\r\n    \t},\r\n\t\t\r\n\t\t\"http_tenant_2\": {\r\n\t\t\t\"class\": \"Tenant\",\r\n\t\t\t\"http_app\": {\r\n\t\t\t\t\"class\": \"Application\",\r\n\t\t\t\t\"template\": \"generic\",\r\n\t\t\t\t\"http_vs\": {\r\n\t\t\t\t\t\"class\": \"Service_Generic\",\r\n\t\t\t\t\t\"virtualPort\": 80,\r\n\t\t\t\t\t\"virtualAddresses\": [\r\n\t\t\t\t\t\t\"10.1.20.11\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"pool\": \"http_pool\",\r\n\t\t\t\t\t\"profileHTTP\": {\"use\": \"http\"}\r\n\t\t\t\t},\r\n\t\t\t\t\"http_pool\": {\r\n\t\t\t\t\t\"class\": \"Pool\",\r\n\t\t\t\t\t\"monitors\": [\r\n\t\t\t\t\t\t\"tcp\"\t\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"members\":[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"shareNodes\": true,\r\n\t\t\t\t\t\t\t\"servicePort\": 80,\r\n\t\t\t\t\t\t\t\"serverAddresses\": \r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"10.1.10.30\",\r\n\t\t\t\t\t\t\t\t\"10.1.10.31\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Get list of ALL deployed declarations",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Delete ALL declarations",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"AS3\",\n    \"action\": \"remove\",\n    \"persist\": true,\n    \"syncToGroup\": \"/Common/failoverGroup\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Lab 6",
			"item": [
				{
					"name": "BIG-IP: Authenticate",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.collectionVariables.set(\"_bigip_token\", jsonData.token.name);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"{{bigip_user}}\",\r\n  \"password\": \"{{bigip_passwd}}\",\r\n  \"loginProviderName\": \"tmos\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/shared/authn/login",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"authn",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: Get sync status",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c88d364f-e6f6-47ba-ad91-9eb6e64fbaf5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/tm/cm/sync-status",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"tm",
								"cm",
								"sync-status"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: sync failoverGroup",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6d965dd9-2536-4702-8234-fc658d33c92d",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"command\":\"run\", \n\t\"utilCmdArgs\": \"config-sync to-group failoverGroup\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/tm/cm",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"tm",
								"cm"
							]
						}
					},
					"response": []
				},
				{
					"name": "BIG-IP: sync datasync-global-dg",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6d965dd9-2536-4702-8234-fc658d33c92d",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigip_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"command\":\"run\", \n\t\"utilCmdArgs\": \"config-sync to-group datasync-global-dg\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigip_server}}/mgmt/tm/cm",
							"protocol": "https",
							"host": [
								"{{bigip_server}}"
							],
							"path": [
								"mgmt",
								"tm",
								"cm"
							]
						}
					},
					"response": []
				},
				{
					"name": "Authenticate to BIG-IQ",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b83715b8-4c00-4d1e-a218-07cfc3bd450a",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.collectionVariables.set(\"_bigiq_token\", jsonData.token.token);",
									"pm.collectionVariables.set(\"_bigiq_refresh_token\", jsonData.refreshToken.token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"admin\",\r\n  \"password\": \"admin\",\r\n  \"loginProviderName\": \"tmos\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/shared/authn/login",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"authn",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "59a0727f-377b-4181-8967-3813f2dcc0fe",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.collectionVariables.set(\"_bigiq_token\", jsonData.token.token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n \"refreshToken\":{\"token\":\"{{_bigiq_refresh_token}}\"}\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/shared/authn/exchange",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"authn",
								"exchange"
							]
						}
					},
					"response": []
				},
				{
					"name": "AS3 GET",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c88d364f-e6f6-47ba-ad91-9eb6e64fbaf5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_bigiq_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				},
				{
					"name": "Deploy App w/o Template",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c88d364f-e6f6-47ba-ad91-9eb6e64fbaf5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigiq_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"class\": \"AS3\",\r\n    \"declaration\": {\r\n        \"class\": \"ADC\",\r\n        \"schemaVersion\": \"3.7.0\",\r\n        \"id\": \"thisisanid\",\r\n        \"label\": \"App1\",\r\n        \"remark\": \"HTTP with custom persistence\",\r\n        \"target\": {\r\n            \"hostname\": \"bigip01.as3lab.com\"\r\n        },\r\n        \"DemoService\": {\r\n            \"class\": \"Tenant\",\r\n            \"App1\": {\r\n                \"class\": \"Application\",\r\n                \"template\": \"http\",\r\n                \"serviceMain\": {\r\n                    \"class\": \"Service_HTTP\",\r\n                    \"virtualAddresses\": [\r\n                        \"10.1.20.50\"\r\n                    ],\r\n                    \"pool\": \"web_pool\"\r\n                    \r\n                },\r\n                \"web_pool\": {\r\n                    \"class\": \"Pool\",\r\n                    \"monitors\": [\r\n                        \"http\"\r\n                    ],\r\n                    \"members\": [{\r\n                    \"servicePort\": 8080,\r\n                    \"serverAddresses\": [\r\n                        \"10.1.10.30\"\r\n                    ]\r\n                    }]\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "Deploy App w/o Template Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c88d364f-e6f6-47ba-ad91-9eb6e64fbaf5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigiq_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"class\": \"AS3\",\r\n    \"declaration\": {\r\n        \"class\": \"ADC\",\r\n        \"schemaVersion\": \"3.7.0\",\r\n        \"id\": \"thisisanid\",\r\n        \"label\": \"App1\",\r\n        \"remark\": \"HTTP with custom persistence\",\r\n        \"target\": {\r\n            \"hostname\": \"bigip01.as3lab.com\"\r\n        },\r\n        \"DemoService\": {\r\n            \"class\": \"Tenant\",\r\n            \"App1\": {\r\n                \"class\": \"Application\",\r\n                \"template\": \"http\",\r\n                \"serviceMain\": {\r\n                    \"class\": \"Service_HTTP\",\r\n                    \"virtualAddresses\": [\r\n                        \"10.1.20.50\"\r\n                    ],\r\n                    \"pool\": \"web_pool\"\r\n                    \r\n                },\r\n                \"web_pool\": {\r\n                    \"class\": \"Pool\",\r\n                    \"monitors\": [\r\n                        \"http\"\r\n                    ],\r\n                    \"members\": [{\r\n                    \"servicePort\": 8080,\r\n                    \"serverAddresses\": [\r\n                        \"10.1.10.30\"\r\n                    ]\r\n                    }]\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Application Reference",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ce6091ef-4105-41dd-8140-0bb53ba6735b",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.collectionVariables.set(\"_bigiq_app_ref\", jsonData.items[0].selfLink);"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigiq_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/cm/global/config-sets/",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"cm",
								"global",
								"config-sets",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Move out of Unknown App",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c88d364f-e6f6-47ba-ad91-9eb6e64fbaf5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigiq_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"componentAppReferencesToMove\": [{\r\n            \"link\": \"{{_bigiq_app_ref}}\"\r\n    }],\r\n    \"targetGlobalAppName\": \"Known Applications\",\r\n    \"deleteEmptyGlobalAppsWhenDone\": false,\r\n    \"requireNewGlobalApp\": true\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/cm/global/global-apps-merge-move",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"cm",
								"global",
								"global-apps-merge-move"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete App w/o Template",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c88d364f-e6f6-47ba-ad91-9eb6e64fbaf5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigiq_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"class\": \"AS3\",\r\n    \"action\": \"patch\",\r\n    \"patchBody\": [\r\n        {\r\n            \"class\": \"ADC\",\r\n            \"target\": {\r\n                \"address\": \"10.1.1.4\"\r\n            },\r\n            \"op\": \"remove\",\r\n            \"path\": \"/DemoService/App1\"\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete App w/o Template Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c88d364f-e6f6-47ba-ad91-9eb6e64fbaf5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigiq_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"class\": \"AS3\",\r\n    \"action\": \"patch\",\r\n    \"patchBody\": [\r\n        {\r\n            \"class\": \"ADC\",\r\n            \"target\": {\r\n                \"address\": \"10.1.1.4\"\r\n            },\r\n            \"op\": \"remove\",\r\n            \"path\": \"/DemoService/App1\"\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete All Apps for BIG-IP01",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c88d364f-e6f6-47ba-ad91-9eb6e64fbaf5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigiq_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"class\": \"AS3\",\r\n    \"action\": \"deploy\",\r\n    \r\n     \"declaration\": {\r\n        \"class\": \"ADC\",\r\n        \"schemaVersion\": \"3.10.0\",\r\n        \"target\": {\r\n            \"hostname\": \"bigip01.as3lab.com\"\r\n         },\r\n         \"DemoService\": {\r\n            \"class\": \"Tenant\"    \r\n        }\r\n    }\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload App Template to BIG-IQ",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c88d364f-e6f6-47ba-ad91-9eb6e64fbaf5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigiq_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"description\": \"For load balancing an HTTP application on port 80.\",\n    \"name\": \"AS3-F5-HTTP-lb-template-big-iq-default-v1\",\n    \"published\": true,\n    \"isUICompatible\": true,\n    \"tenant\": {\n        \"name\": \"\",\n        \"override\": false,\n        \"editable\": true\n    },\n    \"schemaOverlay\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"class\": {\n                \"type\": \"string\",\n                \"const\": \"Application\"\n            },\n            \"template\": {},\n            \"schemaOverlay\": {},\n            \"label\": {},\n            \"remark\": {}\n        },\n        \"additionalProperties\": {\n            \"allOf\": [\n                {\n                    \"anyOf\": [\n                        {\n                            \"properties\": {\n                                \"class\": {\n                                    \"const\": \"Analytics_Profile\"\n                                }\n                            }\n                        },\n                        {\n                            \"properties\": {\n                                \"class\": {\n                                    \"const\": \"HTTP_Profile\"\n                                }\n                            }\n                        },\n                        {\n                            \"properties\": {\n                                \"class\": {\n                                    \"const\": \"Pool\"\n                                }\n                            }\n                        },\n                        {\n                            \"properties\": {\n                                \"class\": {\n                                    \"const\": \"Service_HTTP\"\n                                }\n                            }\n                        }\n                    ]\n                },\n                {\n                    \"if\": {\n                        \"properties\": {\n                            \"class\": {\n                                \"const\": \"Analytics_Profile\"\n                            }\n                        }\n                    },\n                    \"then\": {\n                        \"$ref\": \"#/definitions/Analytics_Profile\"\n                    }\n                },\n                {\n                    \"if\": {\n                        \"properties\": {\n                            \"class\": {\n                                \"const\": \"HTTP_Profile\"\n                            }\n                        }\n                    },\n                    \"then\": {\n                        \"$ref\": \"#/definitions/HTTP_Profile\"\n                    }\n                },\n                {\n                    \"if\": {\n                        \"properties\": {\n                            \"class\": {\n                                \"const\": \"Pool\"\n                            }\n                        }\n                    },\n                    \"then\": {\n                        \"$ref\": \"#/definitions/Pool\"\n                    }\n                },\n                {\n                    \"if\": {\n                        \"properties\": {\n                            \"class\": {\n                                \"const\": \"Service_HTTP\"\n                            }\n                        }\n                    },\n                    \"then\": {\n                        \"$ref\": \"#/definitions/Service_HTTP\"\n                    }\n                }\n            ]\n        },\n        \"required\": [\n            \"class\"\n        ],\n        \"definitions\": {\n            \"Analytics_Profile\": {\n                \"properties\": {\n                    \"class\": {},\n                    \"collectUserAgent\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"collectClientSideStatistics\": {\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"collectGeo\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"collectUrl\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"collectPageLoadTime\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"collectOsAndBrowser\": {\n                        \"type\": \"boolean\",\n                        \"default\": false\n                    },\n                    \"collectMethod\": {\n                        \"type\": \"boolean\",\n                        \"default\": false\n                    },\n                    \"collectResponseCode\": {\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"collectIp\": {\n                        \"type\": \"boolean\"\n                    }\n                },\n                \"type\": \"object\",\n                \"additionalproperties\": false\n            },\n            \"HTTP_Profile\": {\n                \"properties\": {\n                    \"class\": {},\n                    \"fallbackRedirect\": {\n                        \"type\": \"string\",\n                        \"default\": \"https://www.example.com/404\"\n                    },\n                    \"fallbackStatusCodes\": {\n                        \"type\": \"array\",\n                        \"default\": [\n                            404\n                        ]\n                    }\n                },\n                \"type\": \"object\",\n                \"additionalproperties\": false\n            },\n            \"Pool\": {\n                \"properties\": {\n                    \"class\": {},\n                    \"members\": {\n                        \"type\": \"array\",\n                        \"items\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"servicePort\": {\n                                    \"type\": \"number\",\n                                    \"default\": 80\n                                },\n                                \"monitors\": {\n                                    \"type\": \"array\",\n                                    \"default\": [\n                                        \"http\"\n                                    ],\n                                    \"const\": [\n                                        \"http\"\n                                    ]\n                                },\n                                \"adminState\": {\n                                    \"type\": \"string\",\n                                    \"default\": \"enable\"\n                                },\n                                \"shareNodes\": {\n                                    \"type\": \"boolean\",\n                                    \"default\": true,\n                                    \"const\": true\n                                },\n                                \"serverAddresses\": {\n                                    \"type\": \"array\"\n                                }\n                            }\n                        }\n                    },\n                    \"monitors\": {\n                        \"type\": \"array\",\n                        \"default\": [\n                            \"http\"\n                        ],\n                        \"const\": [\n                            \"http\"\n                        ]\n                    }\n                },\n                \"type\": \"object\",\n                \"additionalproperties\": false\n            },\n            \"Service_HTTP\": {\n                \"properties\": {\n                    \"class\": {},\n                    \"virtualPort\": {\n                        \"type\": \"number\",\n                        \"default\": 80\n                    },\n                    \"profileAnalytics\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"use\": {\n                                \"type\": \"string\",\n                                \"default\": \"Analytics_Profile\"\n                            }\n                        }\n                    },\n                    \"profileHTTP\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"use\": {\n                                \"type\": \"string\",\n                                \"default\": \"HTTP_Profile\"\n                            }\n                        }\n                    },\n                    \"virtualAddresses\": {\n                        \"type\": \"array\"\n                    },\n                    \"pool\": {\n                        \"type\": \"string\",\n                        \"default\": \"Pool\"\n                    },\n                    \"enable\": {\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    }\n                },\n                \"type\": \"object\",\n                \"additionalproperties\": false\n            }\n        }\n    }\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/cm/global/appsvcs-templates",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"cm",
								"global",
								"appsvcs-templates"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create App2 with Template",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigiq_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"class\": \"AS3\",\r\n    \"declaration\": {\r\n        \"class\": \"ADC\",\r\n        \"target\": {\r\n            \"hostname\": \"bigip01.as3lab.com\"\r\n        },\r\n        \"schemaVersion\": \"3.7.0\",\r\n        \"DemoService\": {\r\n            \"class\": \"Tenant\",\r\n             \"App2\": {\r\n                \"class\": \"Application\",\r\n                \"schemaOverlay\": \"AS3-F5-HTTP-lb-template-big-iq-default-v1\",\r\n                \"template\": \"http\",\r\n                \"serviceMain\": {\r\n                    \"class\": \"Service_HTTP\",\r\n                    \"virtualAddresses\": [\"10.0.2.23\"],\r\n                    \"pool\": \"web_pool\"\r\n                },\r\n                \"web_pool\": {\r\n                    \"class\": \"Pool\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "Change App2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c88d364f-e6f6-47ba-ad91-9eb6e64fbaf5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigiq_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"class\": \"AS3\",\r\n    \"action\": \"patch\",\r\n    \"patchBody\": [\r\n        {\r\n            \"class\": \"ADC\",\r\n            \"target\": {\r\n                \"address\": \"10.1.1.4\"\r\n            },\r\n            \"op\": \"replace\",\r\n            \"path\": \"/DemoService/App2\",\r\n            \"value\": {\r\n                \"class\": \"Application\",\r\n                \"schemaOverlay\": \"AS3-F5-HTTP-lb-template-big-iq-default-v1\",\r\n                \"template\": \"http\",\r\n                \"serviceMain\": {\r\n                    \"class\": \"Service_HTTP\",\r\n                    \"virtualAddresses\": [\"10.0.2.24\"],\r\n                    \"pool\": \"web_pool\"\r\n                },\r\n                \"web_pool\": {\r\n                    \"class\": \"Pool\"\r\n                }\r\n            }\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete App from Template",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c88d364f-e6f6-47ba-ad91-9eb6e64fbaf5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-F5-Auth-Token",
								"type": "text",
								"value": "{{_bigiq_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"class\": \"AS3\",\r\n    \"action\": \"patch\",\r\n    \"patchBody\": [\r\n        {\r\n            \"class\": \"ADC\",\r\n            \"target\": {\r\n                \"address\": \"10.1.1.4\"\r\n            },\r\n            \"op\": \"remove\",\r\n            \"path\": \"/DemoService/App2\"\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://{{bigiq_server}}/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"{{bigiq_server}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Installation",
			"item": [
				{
					"name": "DSC",
					"item": [
						{
							"name": "BIG-IP: Authenticate",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5ed313b5-b7ec-4d5e-b606-b837f33f4878",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"pm.collectionVariables.set(\"_bigip_token\", jsonData.token.name);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"username\": \"{{bigip_user}}\",\r\n  \"password\": \"{{bigip_passwd}}\",\r\n  \"loginProviderName\": \"tmos\"\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/authn/login",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"authn",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP: Check Device-Group Info",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "df59d27f-9e3e-4467-ab36-602fe156eba8",
										"exec": [
											"// var jsonData = JSON.parse(responseBody);\r",
											"// pm.collectionVariables.set(\"_bigip_token\", jsonData.token.name);\r",
											"// pm.globals.get(\"variable_key\");\r",
											"\r",
											"pm.test(\"Looking for sync-failover\", function () {\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"var size = jsonData.items.length; // items object is array. Get its size.\r",
											"var flag = false;\r",
											"// console.log(\"Test for name. size=[\" + size + \"]\");\r",
											"\r",
											"for(var i = 0; i < size; i++) {\r",
											"  // console.log(\"jsonData.items[\" + i + \"].name=[\" + jsonData.items[i].name + \"]\");   // Debug \r",
											"  // console.log(jsonData.items[i].name);\r",
											"  if (jsonData.items[i].type == \"sync-failover\") {\r",
											"    // console.log(\"1234 is found........\");\r",
											"    pm.collectionVariables.set(\"_bigip_syncFailoverGroup\", jsonData.items[i].name);\r",
											"    flag = true;\r",
											"  }\r",
											"  // console.log(jsonData.items[i].type);\r",
											"}\r",
											"\r",
											"pm.expect(flag).to.eql(true);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/tm/cm/device-group",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"tm",
										"cm",
										"device-group"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP: Check Device-Group failoverGroup",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/tm/cm/device-group/{{_bigip_syncFailoverGroup}}",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"tm",
										"cm",
										"device-group",
										"{{_bigip_syncFailoverGroup}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP: Check Device Status - \"all\"",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5458179c-3f17-44f0-9ef2-411c58b65616",
										"exec": [
											"\r",
											"pm.test(\"Looking for active device\", function () {\r",
											"\r",
											"  var jsonData = pm.response.json();\r",
											"  var size = jsonData.items.length; // items object is array. Get its size.\r",
											"  var flag = false;\r",
											"\r",
											"  for (var i = 0; i < size; i++) {\r",
											"\r",
											"    if (jsonData.items[i].failoverState == \"active\") {\r",
											"      pm.collectionVariables.set(\"_bigip_activeDevice\", jsonData.items[i].name);\r",
											"      pm.collectionVariables.set(\"_bigip_activeDeviceIP\", jsonData.items[i].managementIp);\r",
											"      console.log(\"active device is: \", jsonData.items[i].name, jsonData.items[i].managementIp)\r",
											"      flag = true;\r",
											"    }\r",
											"\r",
											"  }\r",
											"\r",
											"  pm.expect(flag).to.eql(true);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/tm/cm/device",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"tm",
										"cm",
										"device"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP: Check Device Status - \"active\"",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/tm/cm/device/{{_bigip_activeDevice}}",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"tm",
										"cm",
										"device",
										"{{_bigip_activeDevice}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "DO, AS3, TS",
					"item": [
						{
							"name": "BIG-IP: Authenticate",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"pm.collectionVariables.set(\"_bigip_token\", jsonData.token.name);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"username\": \"{{bigip_user}}\",\r\n  \"password\": \"{{bigip_passwd}}\",\r\n  \"loginProviderName\": \"tmos\"\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/authn/login",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"authn",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP: Enable iAppsLX",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6d965dd9-2536-4702-8234-fc658d33c92d",
										"exec": [
											"tests[\"Status code is 200\"] = responseCode.code === 200;"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"command\":\"run\", \n\t\"utilCmdArgs\": \"-c 'touch /var/config/rest/iapps/enable'\"\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/tm/util/bash",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"tm",
										"util",
										"bash"
									]
								}
							},
							"response": []
						},
						{
							"name": "Download the Declarative Onboarding Package to BIG-IP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6d965dd9-2536-4702-8234-fc658d33c92d",
										"exec": [
											"tests[\"Status code is 200\"] = responseCode.code === 200;"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"command\":\"run\", \n\t\"utilCmdArgs\": \"-c 'curl -L -s -o /var/config/rest/downloads/{{doFilename}} https://github.com/F5Networks/f5-declarative-onboarding/releases/download/{{doVersion}}/{{doFilename}}?raw=true'\"\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/tm/util/bash",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"tm",
										"util",
										"bash"
									]
								}
							},
							"response": []
						},
						{
							"name": "Install Declarative Onboarding Package",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ed0ad245-3c71-444d-98c0-1dccbf94d664",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_installation_status_id',respData.id);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\"operation\": \"INSTALL\",\r\"packageFilePath\": \"/var/config/rest/downloads/{{doFilename}}\"\r}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/iapp/package-management-tasks",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"iapp",
										"package-management-tasks"
									]
								},
								"description": "Request installs the RPM on the BIG-IP. This will not be necessary once AS3 container support is added in subsequent versions.\n"
							},
							"response": []
						},
						{
							"name": "Check installation status of DO Package",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "623a800d-c68b-4fe1-b8e8-e4d43021e720",
										"exec": [
											"tests[\"Status code is: \" + responseCode.code] = responseCode.code === 200;",
											"",
											"var    retryCounter = environment.retryCounter;",
											"var    retryInterval = environment.retryInterval;",
											"var    retryLimit = environment.retryLimit;",
											"",
											"var respData = JSON.parse(responseBody);",
											"",
											"function pausecomp(millis)",
											"{",
											"    var date = new Date();",
											"    var curDate = null;",
											"    do { curDate = new Date(); }",
											"    while(curDate-date < millis);",
											"}",
											"",
											"if ( respData.status != \"FINISHED\") {",
											"    tests[\"retry-counter value is: \" + retryCounter] = retryCounter;",
											"    if ( parseInt(retryCounter) < parseInt(retryLimit))",
											"    {",
											"        tests[\"retry-counter value is: \" + retryCounter] = retryCounter;",
											"        postman.setEnvironmentVariable(\"retryCounter\", parseInt(retryCounter) + 1);",
											"        pausecomp(retryInterval);",
											"        postman.setNextRequest(\"Check RPM install process status\");",
											"    } else",
											"    {",
											"        postman.setEnvironmentVariable(\"retryCounter\", 0);",
											"        console.log(\"Resetting, retry counter to 0\");",
											"        tests[\"Retries Expired\"] = true === false;",
											"}",
											"} else {",
											"    tests[\"Process Status is: \" + respData.status] = respData.status == \"FINISHED\"",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/iapp/package-management-tasks/{{do_installation_status_id}}",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"iapp",
										"package-management-tasks",
										"{{do_installation_status_id}}"
									]
								},
								"description": "See if the RPM install procedure finished successfully."
							},
							"response": []
						},
						{
							"name": "Get status of Declarative Onboarding package",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "623a800d-c68b-4fe1-b8e8-e4d43021e720",
										"exec": [
											"tests[\"Status code is 200\"] = responseCode.code === 200;"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding/info",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding",
										"info"
									]
								},
								"description": "See if the RPM install procedure finished successfully."
							},
							"response": []
						},
						{
							"name": "Download the AS3 Package to BIG-IP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6d965dd9-2536-4702-8234-fc658d33c92d",
										"exec": [
											"tests[\"Status code is 200\"] = responseCode.code === 200;"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"command\":\"run\", \n\t\"utilCmdArgs\": \"-c 'curl -L -s -o /var/config/rest/downloads/{{as3Filename}} https://github.com/F5Networks/f5-appsvcs-extension/releases/download/{{as3Version}}/{{as3Filename}}?raw=true'\"\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/tm/util/bash",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"tm",
										"util",
										"bash"
									]
								}
							},
							"response": []
						},
						{
							"name": "Install AS3 Package",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ed0ad245-3c71-444d-98c0-1dccbf94d664",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('as3_installation_status_id',respData.id);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\"operation\": \"INSTALL\",\r\"packageFilePath\": \"/var/config/rest/downloads/{{as3Filename}}\"\r}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/iapp/package-management-tasks",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"iapp",
										"package-management-tasks"
									]
								},
								"description": "Request installs the RPM on the BIG-IP. This will not be necessary once AS3 container support is added in subsequent versions.\n"
							},
							"response": []
						},
						{
							"name": "Check installation status of AS3 Package",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "623a800d-c68b-4fe1-b8e8-e4d43021e720",
										"exec": [
											"tests[\"Status code is: \" + responseCode.code] = responseCode.code === 200;",
											"",
											"var    retryCounter = environment.retryCounter;",
											"var    retryInterval = environment.retryInterval;",
											"var    retryLimit = environment.retryLimit;",
											"",
											"var respData = JSON.parse(responseBody);",
											"",
											"function pausecomp(millis)",
											"{",
											"    var date = new Date();",
											"    var curDate = null;",
											"    do { curDate = new Date(); }",
											"    while(curDate-date < millis);",
											"}",
											"",
											"if ( respData.status != \"FINISHED\") {",
											"    tests[\"retry-counter value is: \" + retryCounter] = retryCounter;",
											"    if ( parseInt(retryCounter) < parseInt(retryLimit))",
											"    {",
											"        tests[\"retry-counter value is: \" + retryCounter] = retryCounter;",
											"        postman.setEnvironmentVariable(\"retryCounter\", parseInt(retryCounter) + 1);",
											"        pausecomp(retryInterval);",
											"        postman.setNextRequest(\"Check RPM install process status\");",
											"    } else",
											"    {",
											"        postman.setEnvironmentVariable(\"retryCounter\", 0);",
											"        console.log(\"Resetting, retry counter to 0\");",
											"        tests[\"Retries Expired\"] = true === false;",
											"}",
											"} else {",
											"    tests[\"Process Status is: \" + respData.status] = respData.status == \"FINISHED\"",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/iapp/package-management-tasks/{{as3_installation_status_id}}",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"iapp",
										"package-management-tasks",
										"{{as3_installation_status_id}}"
									]
								},
								"description": "See if the RPM install procedure finished successfully."
							},
							"response": []
						},
						{
							"name": "Get status of AS3 package",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "623a800d-c68b-4fe1-b8e8-e4d43021e720",
										"exec": [
											"tests[\"Status code is 200\"] = responseCode.code === 200;"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								},
								"description": "See if the RPM install procedure finished successfully."
							},
							"response": []
						},
						{
							"name": "Download the Telemetry Streaming Package to BIG-IP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6d965dd9-2536-4702-8234-fc658d33c92d",
										"exec": [
											"tests[\"Status code is 200\"] = responseCode.code === 200;"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"command\":\"run\", \n\t\"utilCmdArgs\": \"-c 'curl -L -s -o /var/config/rest/downloads/{{tsFilename}} https://github.com/F5Networks/f5-telemetry-streaming/releases/download/{{tsVersion}}/{{tsFilename}}?raw=true'\"\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/tm/util/bash",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"tm",
										"util",
										"bash"
									]
								}
							},
							"response": []
						},
						{
							"name": "Install Telemetry Streaming Package",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ed0ad245-3c71-444d-98c0-1dccbf94d664",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('ts_installation_status_id',respData.id);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\"operation\": \"INSTALL\",\r\"packageFilePath\": \"/var/config/rest/downloads/{{tsFilename}}\"\r}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/iapp/package-management-tasks",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"iapp",
										"package-management-tasks"
									]
								},
								"description": "Request installs the RPM on the BIG-IP. This will not be necessary once AS3 container support is added in subsequent versions.\n"
							},
							"response": []
						},
						{
							"name": "Check installation status of TS Package",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "623a800d-c68b-4fe1-b8e8-e4d43021e720",
										"exec": [
											"tests[\"Status code is: \" + responseCode.code] = responseCode.code === 200;",
											"",
											"var    retryCounter = environment.retryCounter;",
											"var    retryInterval = environment.retryInterval;",
											"var    retryLimit = environment.retryLimit;",
											"",
											"var respData = JSON.parse(responseBody);",
											"",
											"function pausecomp(millis)",
											"{",
											"    var date = new Date();",
											"    var curDate = null;",
											"    do { curDate = new Date(); }",
											"    while(curDate-date < millis);",
											"}",
											"",
											"if ( respData.status != \"FINISHED\") {",
											"    tests[\"retry-counter value is: \" + retryCounter] = retryCounter;",
											"    if ( parseInt(retryCounter) < parseInt(retryLimit))",
											"    {",
											"        tests[\"retry-counter value is: \" + retryCounter] = retryCounter;",
											"        postman.setEnvironmentVariable(\"retryCounter\", parseInt(retryCounter) + 1);",
											"        pausecomp(retryInterval);",
											"        postman.setNextRequest(\"Check RPM install process status\");",
											"    } else",
											"    {",
											"        postman.setEnvironmentVariable(\"retryCounter\", 0);",
											"        console.log(\"Resetting, retry counter to 0\");",
											"        tests[\"Retries Expired\"] = true === false;",
											"}",
											"} else {",
											"    tests[\"Process Status is: \" + respData.status] = respData.status == \"FINISHED\"",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/iapp/package-management-tasks/{{ts_installation_status_id}}",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"iapp",
										"package-management-tasks",
										"{{ts_installation_status_id}}"
									]
								},
								"description": "See if the RPM install procedure finished successfully."
							},
							"response": []
						},
						{
							"name": "Get status of TS package",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "623a800d-c68b-4fe1-b8e8-e4d43021e720",
										"exec": [
											"tests[\"Status code is 200\"] = responseCode.code === 200;"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}"
									}
								],
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/telemetry/info",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"telemetry",
										"info"
									]
								},
								"description": "See if the RPM install procedure finished successfully."
							},
							"response": []
						},
						{
							"name": "BIG-IP01: Standalone On-board networking",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_onboard_status_id',respData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"value": "{{_bigip_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"schemaVersion\": \"1.0.0\",\r\n    \"class\": \"Device\",\r\n    \"async\": true,\r\n    \"label\": \"Onboard BIG-IP in Standalone mode\",\r\n    \"Common\": {\r\n        \"class\": \"Tenant\",\r\n        \"hostname\": \"bigip01.as3lab.com\",\r\n\r\n        \"myNtp\": {\r\n            \"class\": \"NTP\",\r\n            \"servers\": [\r\n                \"0.pool.ntp.org\",\r\n                \"1.pool.ntp.org\",\r\n                \"2.pool.ntp.org\"\r\n            ],\r\n            \"timezone\": \"UTC\"\r\n        },\r\n\r\n        \"myProvisioning\": {\r\n            \"class\": \"Provision\",\r\n            \"ltm\": \"nominal\",\r\n            \"asm\": \"minimum\"\r\n        },\r\n        \"internal\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4093,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.1\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"internal-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.15/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"internal-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.10/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \"external\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4094,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.2\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"external-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.15/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"external-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.10/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \r\n        \r\n        \"dbvars\": {\r\n            \"class\": \"DbVariables\",\r\n            \"ui.advisory.enabled\": true,\r\n            \"ui.advisory.color\": \"green\",\r\n            \"ui.advisory.text\": \"/Common/hostname\"\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP02: Standalone On-board networking",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_onboard_status_id',respData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"schemaVersion\": \"1.0.0\",\r\n    \"class\": \"Device\",\r\n    \"async\": true,\r\n    \"label\": \"Onboard BIG-IP in Standalone mode\",\r\n    \"Common\": {\r\n        \"class\": \"Tenant\",\r\n        \"hostname\": \"bigip02.as3lab.com\",\r\n\r\n        \"myNtp\": {\r\n            \"class\": \"NTP\",\r\n            \"servers\": [\r\n                \"0.pool.ntp.org\",\r\n                \"1.pool.ntp.org\",\r\n                \"2.pool.ntp.org\"\r\n            ],\r\n            \"timezone\": \"UTC\"\r\n        },\r\n\r\n        \"myProvisioning\": {\r\n            \"class\": \"Provision\",\r\n            \"ltm\": \"nominal\",\r\n            \"asm\": \"minimum\"\r\n        },\r\n        \"internal\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4093,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.1\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"internal-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.16/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"internal-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.11/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \"external\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4094,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.2\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"external-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.16/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"external-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.11/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \r\n        \"dbvars\": {\r\n            \"class\": \"DbVariables\",\r\n            \"ui.advisory.enabled\": true,\r\n            \"ui.advisory.color\": \"green\",\r\n            \"ui.advisory.text\": \"/Common/hostname\"\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP03: Standalone On-board networking",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "df3a27c7-5de7-47b6-ba98-2541da024a04",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_onboard_status_id',respData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"schemaVersion\": \"1.0.0\",\r\n    \"class\": \"Device\",\r\n    \"async\": true,\r\n    \"label\": \"Onboard BIG-IP in Standalone mode\",\r\n    \"Common\": {\r\n        \"class\": \"Tenant\",\r\n        \"hostname\": \"bigip03.as3lab.com\",\r\n\r\n        \"myNtp\": {\r\n            \"class\": \"NTP\",\r\n            \"servers\": [\r\n                \"0.pool.ntp.org\",\r\n                \"1.pool.ntp.org\",\r\n                \"2.pool.ntp.org\"\r\n            ],\r\n            \"timezone\": \"UTC\"\r\n        },\r\n\r\n        \"myProvisioning\": {\r\n            \"class\": \"Provision\",\r\n            \"ltm\": \"nominal\",\r\n            \"asm\": \"minimum\"\r\n        },\r\n        \"internal\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4093,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.1\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"internal-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.22/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"internal-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.14/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \"external\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4094,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.2\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"external-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.22/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"external-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.14/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \r\n        \r\n        \"dbvars\": {\r\n            \"class\": \"DbVariables\",\r\n            \"ui.advisory.enabled\": true,\r\n            \"ui.advisory.color\": \"green\",\r\n            \"ui.advisory.text\": \"/Common/hostname\"\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP03: Standalone On-board w/ Config Sync",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d06c6b0f-fbaa-4b92-ab42-725c39a6637a",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_onboard_status_id',respData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"schemaVersion\": \"1.0.0\",\r\n    \"class\": \"Device\",\r\n    \"async\": true,\r\n    \"label\": \"Onboard BIG-IP in Standalone mode\",\r\n    \"Common\": {\r\n        \"class\": \"Tenant\",\r\n        \"hostname\": \"bigip03.as3lab.com\",\r\n\r\n        \"myNtp\": {\r\n            \"class\": \"NTP\",\r\n            \"servers\": [\r\n                \"0.pool.ntp.org\",\r\n                \"1.pool.ntp.org\",\r\n                \"2.pool.ntp.org\"\r\n            ],\r\n            \"timezone\": \"UTC\"\r\n        },\r\n\r\n        \"myProvisioning\": {\r\n            \"class\": \"Provision\",\r\n            \"ltm\": \"nominal\",\r\n            \"asm\": \"minimum\"\r\n        },\r\n        \"internal\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4093,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.1\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"internal-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.22/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"internal-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.14/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \"external\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4094,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.2\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"external-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.22/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"external-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.14/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \r\n        \"configsync\": {\r\n            \"class\": \"ConfigSync\",\r\n            \"configsyncIp\": \"/Common/internal-localself/address\"\r\n        },\r\n      \r\n        \"syncGroup\": {\r\n            \"class\": \"DeviceGroup\",\r\n            \"type\": \"sync-only\",\r\n            \"members\": [\r\n                \"bigip03.as3lab.com\",\r\n                \"bigip04.as3lab.com\"\r\n            ],\r\n            \"owner\": \"/Common/syncGroup/members/0\",\r\n            \"asmSync\": true,\r\n            \"autoSync\": true,\r\n            \"fullLoadOnSync\": false,\r\n            \"saveOnAutoSync\": true,\r\n            \"networkFailover\": true\r\n        },\r\n        \r\n        \"trust\": {\r\n            \"class\": \"DeviceTrust\",\r\n            \"localUsername\": \"{{bigip_user}}\",\r\n            \"localPassword\": \"{{bigip_passwd}}\",\r\n            \"remoteHost\": \"/Common/syncGroup/members/1\",\r\n            \"remoteUsername\": \"{{bigip_user}}\",\r\n            \"remotePassword\": \"{{bigip_passwd}}\"\r\n        },\r\n        \r\n        \r\n        \"dbvars\": {\r\n            \"class\": \"DbVariables\",\r\n            \"ui.advisory.enabled\": true,\r\n            \"ui.advisory.color\": \"red\",\r\n            \"ui.advisory.text\": \"/Common/hostname\"\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP04: Standalone On-board networking",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "30a22a62-bf5b-4df8-af1a-9ae5b7b72d2c",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_onboard_status_id',respData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"schemaVersion\": \"1.0.0\",\r\n    \"class\": \"Device\",\r\n    \"async\": true,\r\n    \"label\": \"Onboard BIG-IP in Standalone mode\",\r\n    \"Common\": {\r\n        \"class\": \"Tenant\",\r\n        \"hostname\": \"bigip04.as3lab.com\",\r\n\r\n        \"myNtp\": {\r\n            \"class\": \"NTP\",\r\n            \"servers\": [\r\n                \"0.pool.ntp.org\",\r\n                \"1.pool.ntp.org\",\r\n                \"2.pool.ntp.org\"\r\n            ],\r\n            \"timezone\": \"UTC\"\r\n        },\r\n\r\n        \"myProvisioning\": {\r\n            \"class\": \"Provision\",\r\n            \"ltm\": \"nominal\",\r\n            \"asm\": \"minimum\"\r\n        },\r\n        \"internal\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4093,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.1\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"internal-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.23/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"internal-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.17/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \"external\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4094,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.2\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"external-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.23/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"external-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.17/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \r\n        \r\n        \"dbvars\": {\r\n            \"class\": \"DbVariables\",\r\n            \"ui.advisory.enabled\": true,\r\n            \"ui.advisory.color\": \"green\",\r\n            \"ui.advisory.text\": \"/Common/hostname\"\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP04: Standalone On-board w/ Config Sync",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6bd36eda-c9bf-4ac8-b56b-b44a6bef029a",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_onboard_status_id',respData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"schemaVersion\": \"1.0.0\",\r\n    \"class\": \"Device\",\r\n    \"async\": true,\r\n    \"label\": \"Onboard BIG-IP in Standalone mode\",\r\n    \"Common\": {\r\n        \"class\": \"Tenant\",\r\n        \"hostname\": \"bigip04.as3lab.com\",\r\n\r\n        \"myNtp\": {\r\n            \"class\": \"NTP\",\r\n            \"servers\": [\r\n                \"0.pool.ntp.org\",\r\n                \"1.pool.ntp.org\",\r\n                \"2.pool.ntp.org\"\r\n            ],\r\n            \"timezone\": \"UTC\"\r\n        },\r\n\r\n        \"myProvisioning\": {\r\n            \"class\": \"Provision\",\r\n            \"ltm\": \"nominal\",\r\n            \"asm\": \"minimum\"\r\n        },\r\n        \"internal\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4093,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.1\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"internal-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.23/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"internal-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.17/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \"external\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4094,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.2\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"external-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.23/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"external-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.17/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \r\n        \"configsync\": {\r\n            \"class\": \"ConfigSync\",\r\n            \"configsyncIp\": \"/Common/internal-localself/address\"\r\n        },\r\n      \r\n        \"syncGroup\": {\r\n            \"class\": \"DeviceGroup\",\r\n            \"type\": \"sync-only\",\r\n            \"members\": [\r\n                \"bigip03.as3lab.com\",\r\n                \"bigip04.as3lab.com\"\r\n            ],\r\n            \"owner\": \"/Common/syncGroup/members/0\",\r\n            \"asmSync\": true,\r\n            \"autoSync\": true,\r\n            \"fullLoadOnSync\": false,\r\n            \"saveOnAutoSync\": true,\r\n            \"networkFailover\": true\r\n        },\r\n        \r\n        \"trust\": {\r\n            \"class\": \"DeviceTrust\",\r\n            \"localUsername\": \"{{bigip_user}}\",\r\n            \"localPassword\": \"{{bigip_passwd}}\",\r\n            \"remoteHost\": \"/Common/syncGroup/members/0\",\r\n            \"remoteUsername\": \"{{bigip_user}}\",\r\n            \"remotePassword\": \"{{bigip_passwd}}\"\r\n        },\r\n        \r\n        \"dbvars\": {\r\n            \"class\": \"DbVariables\",\r\n            \"ui.advisory.enabled\": true,\r\n            \"ui.advisory.color\": \"red\",\r\n            \"ui.advisory.text\": \"/Common/hostname\"\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IPxx: Get Status of Declarative Onboarding Task",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6c757fa4-db22-45f9-b7bd-260d57283118",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_onboard_status_id',respData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"schemaVersion\": \"1.0.0\",\r\n    \"class\": \"Device\",\r\n    \"async\": true,\r\n    \"label\": \"Onboard BIG-IP into an config sync pair\",\r\n    \"Common\": {\r\n        \"class\": \"Tenant\",\r\n        \"hostname\": \"bigip03.as3lab.com\",\r\n\r\n        \"myNtp\": {\r\n            \"class\": \"NTP\",\r\n            \"servers\": [\r\n                \"0.pool.ntp.org\",\r\n                \"1.pool.ntp.org\",\r\n                \"2.pool.ntp.org\"\r\n            ],\r\n            \"timezone\": \"UTC\"\r\n        },\r\n\r\n        \"myProvisioning\": {\r\n            \"class\": \"Provision\",\r\n            \"ltm\": \"nominal\",\r\n            \"asm\": \"minimum\"\r\n        },\r\n        \"internal\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4093,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.1\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"internal-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.14/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"internal-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.14/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \"external\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4094,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.2\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"external-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.14/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"external-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.14/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \r\n        \"configsync\": {\r\n            \"class\": \"ConfigSync\",\r\n            \"configsyncIp\": \"/Common/internal-localself/address\"\r\n        },\r\n        \r\n        \"failoverGroup\": {\r\n            \"class\": \"DeviceGroup\",\r\n            \"type\": \"sync-only\",\r\n            \"members\": [\r\n                \"bigip03.as3lab.com\",\r\n                \"bigip04.as3lab.com\"\r\n            ],\r\n            \"owner\": \"/Common/failoverGroup/members/0\",\r\n            \"autoSync\": true,\r\n            \"saveOnAutoSync\": true,\r\n            \"networkFailover\": false,\r\n            \"fullLoadOnSync\": false,\r\n            \"asmSync\": true\r\n        },\r\n        \r\n        \"trust\": {\r\n            \"class\": \"DeviceTrust\",\r\n            \"localUsername\": \"{{bigip_user}}\",\r\n            \"localPassword\": \"{{bigip_passwd}}\",\r\n            \"remoteHost\": \"/Common/failoverGroup/members/1\",\r\n            \"remoteUsername\": \"{{bigip_user}}\",\r\n            \"remotePassword\": \"{{bigip_passwd}}\"\r\n        },\r\n        \r\n        \"dbvars\": {\r\n            \"class\": \"DbVariables\",\r\n            \"ui.advisory.enabled\": true,\r\n            \"ui.advisory.color\": \"green\",\r\n            \"ui.advisory.text\": \"/Common/hostname\"\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding/task/{{do_onboard_status_id}}",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding",
										"task",
										"{{do_onboard_status_id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP01: HA On-board networking",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_onboard_status_id',respData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"schemaVersion\": \"1.0.0\",\r\n    \"class\": \"Device\",\r\n    \"async\": true,\r\n    \"label\": \"Onboard BIG-IP into an HA Pair\",\r\n    \"Common\": {\r\n        \"class\": \"Tenant\",\r\n        \"hostname\": \"bigip01.as3lab.com\",\r\n\r\n        \"myNtp\": {\r\n            \"class\": \"NTP\",\r\n            \"servers\": [\r\n                \"0.pool.ntp.org\",\r\n                \"1.pool.ntp.org\",\r\n                \"2.pool.ntp.org\"\r\n            ],\r\n            \"timezone\": \"UTC\"\r\n        },\r\n\r\n        \"myProvisioning\": {\r\n            \"class\": \"Provision\",\r\n            \"ltm\": \"nominal\",\r\n            \"asm\": \"minimum\"\r\n        },\r\n        \"internal\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4093,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.1\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"internal-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.15/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"internal-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.10/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \"external\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4094,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.2\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"external-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.15/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"external-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.10/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \r\n        \"configsync\": {\r\n            \"class\": \"ConfigSync\",\r\n            \"configsyncIp\": \"/Common/internal-localself/address\"\r\n        },\r\n        \"failoverAddress\": {\r\n            \"class\": \"FailoverUnicast\",\r\n            \"address\": \"/Common/internal-localself/address\"\r\n        },\r\n        \"failoverGroup\": {\r\n            \"class\": \"DeviceGroup\",\r\n            \"type\": \"sync-failover\",\r\n            \"members\": [\r\n                \"bigip01.as3lab.com\",\r\n                \"bigip02.as3lab.com\"\r\n            ],\r\n            \"owner\": \"/Common/failoverGroup/members/0\",\r\n            \"autoSync\": false,\r\n            \"saveOnAutoSync\": false,\r\n            \"networkFailover\": true,\r\n            \"fullLoadOnSync\": false,\r\n            \"asmSync\": false\r\n        },\r\n        \"trust\": {\r\n            \"class\": \"DeviceTrust\",\r\n            \"localUsername\": \"{{bigip_user}}\",\r\n            \"localPassword\": \"{{bigip_passwd}}\",\r\n            \"remoteHost\": \"/Common/failoverGroup/members/1\",\r\n            \"remoteUsername\": \"{{bigip_user}}\",\r\n            \"remotePassword\": \"{{bigip_passwd}}\"\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP03: Standalone w/ Config Sync On-board networking",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8cde1758-4854-4639-9ffd-f792bcd94e53",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_onboard_status_id',respData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"schemaVersion\": \"1.0.0\",\r\n    \"class\": \"Device\",\r\n    \"async\": true,\r\n    \"label\": \"Onboard BIG-IP into an config sync pair\",\r\n    \"Common\": {\r\n        \"class\": \"Tenant\",\r\n        \"hostname\": \"bigip03.as3lab.com\",\r\n\r\n        \"myNtp\": {\r\n            \"class\": \"NTP\",\r\n            \"servers\": [\r\n                \"0.pool.ntp.org\",\r\n                \"1.pool.ntp.org\",\r\n                \"2.pool.ntp.org\"\r\n            ],\r\n            \"timezone\": \"UTC\"\r\n        },\r\n\r\n        \"myProvisioning\": {\r\n            \"class\": \"Provision\",\r\n            \"ltm\": \"nominal\",\r\n            \"asm\": \"minimum\"\r\n        },\r\n        \"internal\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4093,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.1\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"internal-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.22/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"internal-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.14/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \"external\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4094,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.2\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"external-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.22/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"external-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.14/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \r\n        \"configsync\": {\r\n            \"class\": \"ConfigSync\",\r\n            \"configsyncIp\": \"/Common/internal-localself/address\"\r\n        },\r\n        \r\n        \"syncGroup\": {\r\n            \"class\": \"DeviceGroup\",\r\n            \"type\": \"sync-only\",\r\n            \"members\": [\r\n                \"bigip03.as3lab.com\",\r\n                \"bigip04.as3lab.com\"\r\n            ],\r\n            \"owner\": \"/Common/failoverGroup/members/0\",\r\n            \"autoSync\": true,\r\n            \"saveOnAutoSync\": true,\r\n            \"networkFailover\": false,\r\n            \"fullLoadOnSync\": false,\r\n            \"asmSync\": true\r\n        },\r\n        \r\n        \"trust\": {\r\n            \"class\": \"DeviceTrust\",\r\n            \"localUsername\": \"{{bigip_user}}\",\r\n            \"localPassword\": \"{{bigip_passwd}}\",\r\n            \"remoteHost\": \"/Common/failoverGroup/members/1\",\r\n            \"remoteUsername\": \"{{bigip_user}}\",\r\n            \"remotePassword\": \"{{bigip_passwd}}\"\r\n        },\r\n        \r\n        \"dbvars\": {\r\n            \"class\": \"DbVariables\",\r\n            \"ui.advisory.enabled\": true,\r\n            \"ui.advisory.color\": \"green\",\r\n            \"ui.advisory.text\": \"/Common/hostname\"\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP04: Standalone w/ Config Sync On-board networking",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0424155f-5dc6-48e6-8d2d-11427d75b95f",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_onboard_status_id',respData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"schemaVersion\": \"1.0.0\",\r\n    \"class\": \"Device\",\r\n    \"async\": true,\r\n    \"label\": \"Onboard BIG-IP into an config sync pair\",\r\n    \"Common\": {\r\n        \"class\": \"Tenant\",\r\n        \"hostname\": \"bigip04.as3lab.com\",\r\n\r\n        \"myNtp\": {\r\n            \"class\": \"NTP\",\r\n            \"servers\": [\r\n                \"0.pool.ntp.org\",\r\n                \"1.pool.ntp.org\",\r\n                \"2.pool.ntp.org\"\r\n            ],\r\n            \"timezone\": \"UTC\"\r\n        },\r\n\r\n        \"myProvisioning\": {\r\n            \"class\": \"Provision\",\r\n            \"ltm\": \"nominal\",\r\n            \"asm\": \"minimum\"\r\n        },\r\n        \"internal\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4093,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.1\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"internal-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.23/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"internal-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.17/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \"external\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4094,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.2\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"external-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.23/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"external-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.17/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \r\n        \"configsync\": {\r\n            \"class\": \"ConfigSync\",\r\n            \"configsyncIp\": \"/Common/internal-localself/address\"\r\n        },\r\n        \r\n        \"syncGroup\": {\r\n            \"class\": \"DeviceGroup\",\r\n            \"type\": \"sync-only\",\r\n            \"members\": [\r\n                \"bigip03.as3lab.com\",\r\n                \"bigip04.as3lab.com\"\r\n            ],\r\n            \"owner\": \"/Common/failoverGroup/members/0\",\r\n            \"autoSync\": true,\r\n            \"saveOnAutoSync\": true,\r\n            \"networkFailover\": false,\r\n            \"fullLoadOnSync\": false,\r\n            \"asmSync\": true\r\n        },\r\n        \r\n        \"trust\": {\r\n            \"class\": \"DeviceTrust\",\r\n            \"localUsername\": \"{{bigip_user}}\",\r\n            \"localPassword\": \"{{bigip_passwd}}\",\r\n            \"remoteHost\": \"/Common/failoverGroup/members/1\",\r\n            \"remoteUsername\": \"{{bigip_user}}\",\r\n            \"remotePassword\": \"{{bigip_passwd}}\"\r\n        },\r\n        \r\n        \"dbvars\": {\r\n            \"class\": \"DbVariables\",\r\n            \"ui.advisory.enabled\": true,\r\n            \"ui.advisory.color\": \"green\",\r\n            \"ui.advisory.text\": \"/Common/hostname\"\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding"
									]
								}
							},
							"response": []
						},
						{
							"name": "BIG-IP02: HA On-board networking",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d6fc297c-3963-4ed9-bf9a-e863c0145706",
										"exec": [
											"var respData = JSON.parse(responseBody);",
											"",
											"tests[\"response has id: \" +respData.id] = respData.id;",
											"",
											"pm.collectionVariables.set('do_onboard_status_id',respData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "X-F5-Auth-Token",
										"type": "text",
										"value": "{{_bigip_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"schemaVersion\": \"1.0.0\",\r\n    \"class\": \"Device\",\r\n    \"async\": true,\r\n    \"label\": \"Onboard BIG-IP into an HA Pair\",\r\n    \"Common\": {\r\n        \"class\": \"Tenant\",\r\n        \"hostname\": \"bigip02.as3lab.com\",\r\n\r\n        \"myNtp\": {\r\n            \"class\": \"NTP\",\r\n            \"servers\": [\r\n                \"0.pool.ntp.org\",\r\n                \"1.pool.ntp.org\",\r\n                \"2.pool.ntp.org\"\r\n            ],\r\n            \"timezone\": \"UTC\"\r\n        },\r\n\r\n        \"myProvisioning\": {\r\n            \"class\": \"Provision\",\r\n            \"ltm\": \"nominal\",\r\n            \"asm\": \"minimum\"\r\n        },\r\n        \"internal\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4093,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.1\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"internal-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.16/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"internal-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.10.11/24\",\r\n            \"vlan\": \"internal\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \"external\": {\r\n            \"class\": \"VLAN\",\r\n            \"tag\": 4094,\r\n            \"mtu\": 1500,\r\n            \"interfaces\": [\r\n                {\r\n                    \"name\": \"1.2\",\r\n                    \"tagged\": false\r\n                }\r\n            ]\r\n        },\r\n        \"external-localself\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.16/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-local-only\"\r\n        },\r\n        \"external-self\": {\r\n            \"class\": \"SelfIp\",\r\n            \"address\": \"10.1.20.11/24\",\r\n            \"vlan\": \"external\",\r\n            \"allowService\": \"default\",\r\n            \"trafficGroup\": \"traffic-group-1\"\r\n        },\r\n        \r\n        \"configsync\": {\r\n            \"class\": \"ConfigSync\",\r\n            \"configsyncIp\": \"/Common/internal-localself/address\"\r\n        },\r\n        \"failoverAddress\": {\r\n            \"class\": \"FailoverUnicast\",\r\n            \"address\": \"/Common/internal-localself/address\"\r\n        },\r\n        \"failoverGroup\": {\r\n            \"class\": \"DeviceGroup\",\r\n            \"type\": \"sync-failover\",\r\n            \"members\": [\r\n                \"bigip01.as3lab.com\",\r\n                \"bigip02.as3lab.com\"\r\n            ],\r\n            \"owner\": \"/Common/failoverGroup/members/0\",\r\n            \"autoSync\": false,\r\n            \"saveOnAutoSync\": false,\r\n            \"networkFailover\": true,\r\n            \"fullLoadOnSync\": false,\r\n            \"asmSync\": false\r\n        },\r\n        \"trust\": {\r\n            \"class\": \"DeviceTrust\",\r\n            \"localUsername\": \"{{bigip_user}}\",\r\n            \"localPassword\": \"{{bigip_passwd}}\",\r\n            \"remoteHost\": \"/Common/failoverGroup/members/0\",\r\n            \"remoteUsername\": \"{{bigip_user}}\",\r\n            \"remotePassword\": \"{{bigip_passwd}}\"\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "https://{{bigip_server}}/mgmt/shared/declarative-onboarding",
									"protocol": "https",
									"host": [
										"{{bigip_server}}"
									],
									"path": [
										"mgmt",
										"shared",
										"declarative-onboarding"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7ea15ba1-6410-4f7d-8f94-e33226b34cb4",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "63e139f7-dfa7-49c5-a2d9-e0e004c51db1",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "b13944a8-a56e-4bf1-80df-7246c6419568",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "15f62892-4d2d-4e30-8db7-f56a9ad675bc",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "384ffa34-0654-4ea8-bc07-4b9c9b735c90",
			"key": "bigip_server",
			"value": "10.1.1.4",
			"type": "string"
		},
		{
			"id": "b2be6f8a-fd76-4f13-9a44-3169d21a88d9",
			"key": "bigip_user",
			"value": "admin",
			"type": "string"
		},
		{
			"id": "44d81be7-7f92-4f60-96bc-fb11d1bdda3e",
			"key": "bigip_passwd",
			"value": "admin",
			"type": "string"
		},
		{
			"id": "39c3821a-c696-45eb-9fd5-9f90aebe5f78",
			"key": "_bigip_token",
			"value": "YDDQ6BSRUHRF5Q5XVH4M2MTDJX",
			"type": "string"
		},
		{
			"id": "d83975d8-0609-4207-88a6-67e67297b5ee",
			"key": "_bigip_refresh_token",
			"value": "",
			"type": "string"
		},
		{
			"id": "65384e29-92af-49a6-ba7c-0725ed7de8ea",
			"key": "bigiq_server",
			"value": "10.1.1.7",
			"type": "string"
		},
		{
			"id": "938f5bb3-3ac8-4032-9733-989a4e35ea66",
			"key": "bigiq_user",
			"value": "admin",
			"type": "string"
		},
		{
			"id": "8eb2c5c5-fdab-435f-beaf-2d1191d35490",
			"key": "bigiq_passwd",
			"value": "admin",
			"type": "string"
		},
		{
			"id": "558c6dfa-8ee0-4cf1-a1b3-ea220ed18c26",
			"key": "_bigiq_token",
			"value": "eyJraWQiOiJkZTU4YWUyNi0wODAwLTQ1NDItOGJlYi0zZjJjZDUzYTQ0OGIiLCJhbGciOiJSUzM4NCJ9.eyJpc3MiOiJCSUctSVEiLCJqdGkiOiJxODFKMmVTTlNqNmZvYV9vY2NLYkhRIiwic3ViIjoiYWRtaW4iLCJhdWQiOiIxMC4xLjEuOSIsImlhdCI6MTU4Mzc2NzU4NCwiZXhwIjoxNTgzNzY3ODg0LCJ1c2VyTmFtZSI6ImFkbWluIiwiYXV0aFByb3ZpZGVyTmFtZSI6ImxvY2FsIiwidXNlciI6Imh0dHBzOi8vbG9jYWxob3N0L21nbXQvc2hhcmVkL2F1dGh6L3VzZXJzL2FkbWluIiwidHlwZSI6IkFDQ0VTUyIsInRpbWVvdXQiOjMwMCwiZ3JvdXBSZWZlcmVuY2VzIjpbXX0.HDRicVAeZpchAnktLlZ3GDC2DknWEiwZy0ALFloyTxJbl_OSs7RtsUE0qE92UHTtHEt5EBj07FUZ8H9Z3j-jn9hRk-HJsnQjj1Vz1YYd--LURPbCmafra3THwSkwNnuUygjpQ7kqgmzR_nvRQSdg41BEDS_npcoDPTtoFfbqCnS0M5B4uT-aN8pd7dTdLwha_cIC1unMd-k0BoabRmzXgdBGOJaN5-nf_KjCyConHNNGpyaeroQHTkL43ZWWLn7Q_1kjpcaXN55XmN__TwCs6Mweqy6FDnUxLWUuod3Cgrt7iQmKdi5Fu94kJoBH4Yu9dVkrWgJO3srazmj4qy68i7MaCckvI7-owGWvVojQQ3B6DuqOcMmy_sb2ae5s13hiJ3S0qD0BYKQSlndZ3O97q7UMss2MPbov9QHLZZRe9yEtkgkmIXUJcTYMLHLswVlswifFoOXaWb-Q1IrsMJmRa4o9lrD1GQ8lSvPuffddeJrY8A8V4l03-pwayzfOSVP1",
			"type": "string"
		},
		{
			"id": "11181143-e7b8-418e-9b70-d0bda92578fc",
			"key": "_bigiq_refresh_token",
			"value": "eyJraWQiOiJkZTU4YWUyNi0wODAwLTQ1NDItOGJlYi0zZjJjZDUzYTQ0OGIiLCJhbGciOiJSUzM4NCJ9.eyJpc3MiOiJCSUctSVEiLCJqdGkiOiJzVWtrTUx2d1Qyemtxb0ZSb1g0NW1RIiwic3ViIjoiYWRtaW4iLCJhdWQiOiIxMC4xLjEuOSIsImlhdCI6MTU4Mzc2NzU4NCwiZXhwIjoxNTgzODAzNTg0LCJ1c2VyTmFtZSI6ImFkbWluIiwiYXV0aFByb3ZpZGVyTmFtZSI6ImxvY2FsIiwidXNlciI6Imh0dHBzOi8vbG9jYWxob3N0L21nbXQvc2hhcmVkL2F1dGh6L3VzZXJzL2FkbWluIiwidHlwZSI6IlJFRlJFU0giLCJ0aW1lb3V0IjozNjAwMCwiZ3JvdXBSZWZlcmVuY2VzIjpbXX0.mOHK9yktGXW1sZedP-tr-Vx8tIziZzU5W7qiooJqFXvLHODbS-aeJVvHLzKrMkRxlqZwqemUUYVeZNBiIHeDk70D3g7F68gWQuZkv82E_Y0S-_nnYjpj8JlIgnN91SCL1szompiwmTBrR-S8jnmVBqVkshkobv_cGQZA3dDKa1jk8E8_gZAxkLxgvPJroMD1b4oqUkiS3PCaX_jnuWgbGX5RBQ7SE1w9q3jwIrU9P-V4qLleQouOBn1_9f43HX9NIYFsE-YyX0YvM89Xahd6ND4ZO1P7Rh39PQXal2dOreKejKAiQL_oy2Cv3MKMNds2Nuk5AohEiSUgn-rBonw1U06Lyccft3fSb9-8j7cGpeHJ6GqBrf52Vyo_yHLmRgKbARK31xUw_TGyspA5FYJcHE8uGK6ce_cRO5YhN6vPcHFOlKT8-A4rTvssDJMZNV4rTIOmjla3M29UAz1zVKV75CCZLDa5f3O9RrDWzIsC2rBWmNHIe1EXBy81ThhFo8lk",
			"type": "string"
		},
		{
			"id": "e69bbe5d-60f1-4ded-a12e-4171096b10b1",
			"key": "_bigiq_app_ref",
			"value": "https://localhost/mgmt/cm/global/config-sets/81a76efb-9ffd-3921-b9d3-06278797723b",
			"type": "string"
		},
		{
			"id": "532dc243-c08c-43b3-ab6e-20ff77401193",
			"key": "retryCounter",
			"value": "",
			"type": "string"
		},
		{
			"id": "1fdce103-43e8-43db-9f37-58821360dc46",
			"key": "doVersion",
			"value": "v1.12.0",
			"type": "string"
		},
		{
			"id": "30f3e832-7af7-462a-bd95-ec8091fb02be",
			"key": "doFilename",
			"value": "f5-declarative-onboarding-1.12.0-1.noarch.rpm",
			"type": "string"
		},
		{
			"id": "74fde251-5ede-4e07-81eb-66cb1d0a8d03",
			"key": "do_installation_status_id",
			"value": "d4b0c112-754d-4505-8291-30813b5992cb",
			"type": "string"
		},
		{
			"id": "be005cf5-dc46-40d4-8b44-2e7977f2c2b8",
			"key": "do_onboard_status_id",
			"value": "3b143d8e-02c2-4a3d-bf12-1023084c41fa",
			"type": "string"
		},
		{
			"id": "88a1a052-2d0d-4c29-b218-3f2d0a59156f",
			"key": "as3Version",
			"value": "v3.16.0",
			"type": "string"
		},
		{
			"id": "90f4d596-40c8-4f61-8952-52b691836f2e",
			"key": "as3Filename",
			"value": "f5-appsvcs-3.16.0-6.noarch.rpm",
			"type": "string"
		},
		{
			"id": "35deeee5-dfc4-4208-929f-2dda75aaa2dd",
			"key": "as3_status_id",
			"value": "",
			"type": "string"
		},
		{
			"id": "ed49aee4-bd5e-4e49-aa72-b676d8c24335",
			"key": "as3_installation_status_id",
			"value": "",
			"type": "string"
		},
		{
			"id": "2ccf9523-eeaa-4d63-97cb-c59d5d1f9b29",
			"key": "_bigip_syncFailoverGroup",
			"value": "failoverGroup",
			"type": "string"
		},
		{
			"id": "c191b329-288c-42f1-89c5-85e21d5bea8a",
			"key": "_bigip_activeDevice",
			"value": "bigip01.as3lab.com",
			"type": "string"
		},
		{
			"id": "47d0f6fe-8b00-424b-8f23-c12fb8bd4d41",
			"key": "_bigip_activeDeviceIP",
			"value": "",
			"type": "string"
		},
		{
			"id": "bbcb46e3-0fd3-4e8a-97ea-449a012a1af8",
			"key": "tsVersion",
			"value": "v1.11.0",
			"type": "string"
		},
		{
			"id": "654caddb-2779-42ab-a9af-fce84a66907c",
			"key": "tsFilename",
			"value": "f5-telemetry-1.11.0-1.noarch.rpm",
			"type": "string"
		},
		{
			"id": "fe38fb49-615e-4e71-bf55-3c3684953094",
			"key": "ts_status_id",
			"value": "",
			"type": "string"
		},
		{
			"id": "5ea61014-3da8-46f4-b935-eb7f0fe22f65",
			"key": "ts_installation_status_id",
			"value": "5e7981ac-96ea-44f4-8f76-193dcebb3d29",
			"type": "string"
		}
	],
	"protocolProfileBehavior": {}
}